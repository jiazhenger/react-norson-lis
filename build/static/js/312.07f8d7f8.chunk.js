(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[312],{569:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var a=n(5),i=n(22),l=n(23),o=n(27),r=n(25),s=n(24),c=n(0),d=n.n(c),u=window,h=u.$http,p=u.$fn,f=u.$async,m=f((function(){return n.e(5).then(n.bind(null,135))})),b=n.e(9).then(n.bind(null,144)),g=f((function(){return n.e(6).then(n.bind(null,137))})),w=f((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),j=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))).state={data:[],pag:{},selectedKeys:[],notauditreportTotal:0},t.forms=[{label:"\u6807\u672c\u6761\u7801",name:"spec_code"},{label:"\u533b\u9662\u540d\u79f0",name:"hosp_id",type:"select",data:[]},{label:"\u59d3\u540d",name:"patient_name"},{label:"\u5f55\u5165\u9879\u76ee\u65f6\u95f4",name:"date",type:"date-range",names:["start_date","end_date"],value:[]}],t.model={},t.fetch=function(e){return p.fetch.call(Object(o.a)(t),"kd-report-spec/notsendreportlist",e)},t.cols=[{title:"\u6807\u672c\u6761\u7801",field:"spec_code",width:130},{title:"\u59d3\u540d",field:"patient_name",width:100},{title:"\u6027\u522b",field:"sex_name",width:80},{title:"\u5e74\u9f84",field:"newAge",width:80},{title:"\u9879\u76ee\u540d\u79f0",field:"kind_name",width:240},{title:"\u533b\u9662",field:"hosp_name",width:220},{title:"\u5f55\u5165\u9879\u76ee\u65f6\u95f4",field:"created_at",width:160,align:"tc"}],t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;b.then((function(e){var n=e.default;p.getCache({cache:n.BsHospitalSelect,callback:function(e){p.hasArray(e)?t.forms[1].data=e:h.submit(null,"bs-hospital/select").then((function(e){t.forms[1].data=e,p.setCache()}))}})})),h.pull(null,"kd-report-spec/notauditreport").then((function(e){var n=e.num||0;t.setState({notauditreportTotal:n})})),this.fetch(this.model)}},{key:"render",value:function(){var t=this,e=this.state,n=e.data,i=e.pullLoading,l=e.pag,o=e.notauditreportTotal;return Object(a.jsxs)(m,{title:"\u672a\u53d1\u62a5\u544a\u6e05\u5355",children:[Object(a.jsx)(g,{data:this.forms,onChange:function(e,n,a){a.name,a.data;return p.onChange.call(t,e,n)},onSubmit:p.onSubmit.bind(this),onAdd:this.onAdd,onReset:p.onReset.bind(this,this.forms),loading:i}),Object(a.jsx)(w,{className:"xplr",cols:this.cols,data:n,loading:i,onRow:function(e){return t.setState({selectedKeys:e})},pag:l,onChange:function(e,n){return p.pageChange.call(t,{current:e,pageSize:n})},otherInfo:Object(a.jsxs)("span",{children:["\u672a\u6279\u51c6\u62a5\u544a\u5355\u6570\u91cf\uff1a",o]})})]})}}]),n}(d.a.Component)}}]);
(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[109],{429:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var c=n(5),a=n(22),s=n(23),l=n(27),i=n(25),r=n(24),o=n(0),u=n.n(o),d=window,h=d.$http,m=d.$fn,f=d.$async,p=f((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,94))})),b=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),j=f((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),y=function(e){Object(i.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={data:[],selectedKeys:[]},e.model={},e.fetch=function(t){return m.fetch.call(Object(l.a)(e),"printer/assocTmpl",t)},e.cols=[{type:"checkbox"},{title:"\u6a21\u677f\u4ee3\u7801",field:"name"},{title:"\u6a21\u677f\u540d\u79f0",field:"remark"}],e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.model={uuid:this.props.uuid},this.fetch(this.model).then((function(e){m.hasArray(e)&&e.forEach((function(e){"1"===e.assoc&&(e.rowChecked=!0)}))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.pullLoading,s=t.selectedKeys,l=this.props,i=l.onClose,r=l.uuid;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j,{className:"xplr",cols:this.cols,data:n,loading:a,onRow:function(t){e.setState({selectedKeys:t})},onChange:function(t,n){return m.pageChange.call(e,{current:t,pageSize:n})}}),Object(c.jsxs)("div",{className:"tc mt10",children:[Object(c.jsx)(p,{label:"\u53d6\u6d88",size:"middle",className:"mr15 dkm",onClick:i}),Object(c.jsx)(p,{label:"\u786e\u5b9a",ghost:!0,size:"middle",className:"mr15 dkm",onClick:function(t){var n={uuid:r,tmpl_codes:s.map((function(e){return e.value}))};h.submit(null,"printer/assocTmpl",{param:n}).then((function(t){b.then((function(e){return e.default.success("\u64cd\u4f5c\u6210\u529f")})),e.fetch(e.model),i&&i()}))}})]})]})}}]),n}(u.a.Component)}}]);
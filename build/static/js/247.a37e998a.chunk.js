(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[247],{336:function(e,t,n){"use strict";t.a=n.p+"static/media/saoma.aa9fee90.svg"},596:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var c=n(5),s=n(22),a=n(23),r=n(27),i=n(25),o=n(24),l=n(0),d=n.n(l),u=n(336),h=window,b=h.$http,m=h.$fn,j=h.$async,f=j((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,94))})),x=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),p=j((function(){return Promise.all([n.e(0),n.e(30)]).then(n.bind(null,204))})),g=j((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(17)]).then(n.bind(null,146))})),v=j((function(){return n.e(5).then(n.bind(null,135))})),O=j((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),_=j((function(){return n.e(27).then(n.bind(null,335))})),w=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).isEdit=!1,e.state={data:[],pag:{},selectedKeys:[],forms:{box_code:"",newInput:"",start_code:"",end_code:"",spec_code:""},isBatch:!1},e.fetch=function(t){return m.fetch.call(Object(r.a)(e),"box/specCodeInfo",t)},e.cols=[{title:"\u6761\u7801\u53f7",field:"spec_code",width:120},{title:"\u9001\u68c0\u5355\u4f4d",field:"hosp_name",width:120},{title:"\u9001\u68c0\u5730\u5740",field:"address",width:120},{title:"\u72b6\u6001",field:"spec_status",width:120,render:function(e){var t=e.rows;return window.$fn.filterSelect([{label:"\u5f85\u5206\u53d1",value:0},{label:"\u4e0d\u53ef\u5206\u53d1",value:-1},{label:"\u5df2\u5206\u53d1",value:1}],t.spec_status,"label","value")}}],e.ButtonGroup=function(){return[{label:"\u8fd4\u56de",ghost:!0,onClick:function(){return m.back(Object(r.a)(e))}}]},e.onChanges=function(t,n){var c=e.state.forms;c[n]=t,e.setState({forms:c})},e.confirms=function(){var t=e.state,n=t.forms,c=t.isBatch,s={box_code:n.box_code,start_code:c?n.start_code:n.spec_code,end_code:c?n.end_code:""};b.submit(null,"box/partmove",{param:s}).then((function(t){x.then((function(e){return e.default.success("\u64cd\u4f5c\u6210\u529f")})),e.fetch({box_code:n.box_code})}))},e.changeBatch=function(t){e.setState({isBatch:t})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.forms,s=t.data,a=t.pullLoading,r=t.pag;t.keys;return Object(c.jsxs)(v,{title:"\u90e8\u5206\u8f6c\u79fb",ButtonGroup:this.ButtonGroup(),children:[Object(c.jsxs)("div",{className:"fx p10",children:[Object(c.jsxs)("div",{className:"fxw",style:{alignItems:"center"},children:[Object(c.jsxs)("div",{className:"mr10",children:["\u6807\u672c\u7bb1\u6761\u7801\uff1a",Object(c.jsx)(g,{p:"\u8bf7\u626b\u63cf\u6216\u8f93\u5165\u6761\u7801\u53f7",maxLength:6,width:160,value:n.box_code,style:{borderRadius:"4px"},className:"mlr5",onChange:function(t){return e.onChanges(t,"box_code")}})]}),Object(c.jsx)("div",{children:Object(c.jsx)(_,{className:"mr15 dkm",src:u.a,height:"20px",width:"20px"})}),Object(c.jsx)(p,{indeter:!1,value:this.state.isBatch,onChange:function(t){return e.changeBatch(t)},label:"\u6279\u91cf\u8f6c\u79fb"}),this.state.isBatch?Object(c.jsxs)(d.a.Fragment,{children:[Object(c.jsxs)("div",{className:"mr10",children:["\u5f00\u59cb\u6807\u672c\u53f7\uff1a",Object(c.jsx)(g,{p:"\u8bf7\u626b\u63cf\u6216\u8f93\u5165\u6761\u7801\u53f7",maxLength:14,width:160,value:n.start_code,style:{borderRadius:"4px"},className:"mlr5",onChange:function(t){return e.onChanges(t,"start_code")}})]}),Object(c.jsx)("div",{children:Object(c.jsx)(_,{className:"mr15 dkm",src:u.a,height:"20px",width:"20px"})}),Object(c.jsxs)("div",{className:"mr10",children:["\u7ed3\u675f\u6807\u672c\u53f7\uff1a",Object(c.jsx)(g,{p:"\u8bf7\u626b\u63cf\u6216\u8f93\u5165\u6761\u7801\u53f7",maxLength:14,width:160,value:n.end_code,style:{borderRadius:"4px"},className:"mlr5",onChange:function(t){return e.onChanges(t,"end_code")}})]}),Object(c.jsx)("div",{children:Object(c.jsx)(_,{className:"mr15 dkm",src:u.a,height:"20px",width:"20px"})})]}):Object(c.jsxs)(d.a.Fragment,{children:[Object(c.jsxs)("div",{className:"mr10",children:["\u6807\u672c\u6761\u7801\uff1a",Object(c.jsx)(g,{p:"\u8bf7\u626b\u63cf\u6216\u8f93\u5165\u6761\u7801\u53f7",maxLength:14,width:160,value:n.spec_code,style:{borderRadius:"4px"},className:"mlr5",onChange:function(t){return e.onChanges(t,"spec_code")}})]}),Object(c.jsx)("div",{children:Object(c.jsx)(_,{className:"mr15 dkm",src:u.a,height:"20px",width:"20px"})})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)(f,{label:"\u786e\u8ba4",ghost:!0,className:"mr10",onClick:function(){return e.confirms()}})})]}),Object(c.jsx)(O,{className:"xplr",cols:this.cols,data:s,loading:a,onRow:function(t){return e.setState({selectedKeys:t})},pag:r,onChange:function(t,n){return m.pageChange.call(e,{current:t,pageSize:n})},onSort:function(t){return m.onSort.call(e,t)}})]})}}]),n}(d.a.Component)}}]);
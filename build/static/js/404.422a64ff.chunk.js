(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[404],{394:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(5),r=n(2),s=n(22),l=n(23),c=n(27),i=n(25),o=n(24),u=n(0),h=n.n(u),d=n(150),m=window,b=m.$async,f=m.$fn,j=m.$http,_=b((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(17)]).then(n.bind(null,146))})),p=b((function(){return Promise.all([n.e(0),n.e(30)]).then(n.bind(null,204))})),v=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),x=b((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,94))})),g=b((function(){return n.e(23).then(n.bind(null,202))})),O=b((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(29)]).then(n.bind(null,181))})),k=b((function(){return n.e(21).then(n.bind(null,199))})),C=function(e){var t=e.title,n=e.titleChildren;return Object(a.jsxs)("h3",{className:"fxm h30",children:[Object(a.jsx)("i",{className:"r100px mr5",style:{width:5,height:5,background:"#333"}}),Object(a.jsx)("span",{children:t}),Object(a.jsx)("div",{className:"ex tr",children:n})]})},w=function(e){var t=e.title,n=e.titleChildren;return Object(a.jsxs)("div",{className:"fx mt10 plr10",children:[Object(a.jsxs)("span",{style:{width:"80px"},children:[t,"\uff1a"]}),Object(a.jsx)("div",{className:"ex",children:n})]})},y=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).state={forms:{},infos:{},model:{checked0:!1,checked1:!1},flow0:!0,flow1:!1,flow2:!1,operation_44015:"FL104210000",keys:0},e.setForms=function(t){var n=e.state,a=n.forms,s=n.keys;f.hasObject(t)?(a.imgs=t.imgs||[],a.report_form_imgs=t.report_form_imgs||"",a.vaccinate_real_name=t.vaccinate_real_name||"",a.vaccinate_at=t.vaccinate_at||"",a.harvest_real_name=t.harvest_real_name||"",a.harvest_at=t.harvest_at||"",a.take_level=t.take_level||"",a.preliminary_result=t.preliminary_result||"",a.count_cells=t.count_cells||"",a.analyze_cells=t.analyze_cells||"",a.shoot_cells=t.shoot_cells||"",a.test_diagnosis=t.test_diagnosis||"",a.result_interpretation=t.result_interpretation||"",a.other_tests=t.other_tests||"",e.setState({forms:Object(r.a)(Object(r.a)({},t),a),keys:s+1})):(a.imgs=[],a.report_form_imgs="",a.vaccinate_real_name="",a.vaccinate_at="",a.harvest_real_name="",a.harvest_at="",a.take_level="",a.preliminary_result="",a.count_cells="",a.analyze_cells="",a.shoot_cells="",a.test_diagnosis="",a.result_interpretation="",a.other_tests="",e.setState({forms:a,keys:s+1}))},e.changeInput=function(t,n){return d.default.changeInput.call(Object(c.a)(e),t,n)},e.changeCheckbox=function(t,n){var a=e.state.model;a[n]=t[n],e.setState({model:a})},e.submits=function(){var t=e.state,n=t.infos,a=t.model,r=t.operation_44015;if(!f.hasObject(n))return v.then((function(e){return e.default.error("\u8bf7\u9009\u62e9\u4e00\u6761\u5217\u8868\u6570\u636e")}));switch(r){case"FL104210000":if(!a.checked0)return v.then((function(e){return e.default.error("\u8bf7\u52fe\u9009\u63a5\u79cd\u5b8c\u6210")}));e.submits1(r);break;case"FL104210001":if(!a.checked1)return v.then((function(e){return e.default.error("\u8bf7\u52fe\u9009\u6536\u83b7\u5b8c\u6210")}));e.submits1(r);break;case"FL104210002":e.submits1(r);break;default:v.then((function(e){return e.default.error("\u63d0\u4ea4\u5931\u8d25\uff0c\u6ca1\u6709".concat(n.operation_44015,"\u8fd9\u4e2a\u6d41\u7a0b"))}))}},e.setProcess=function(t){switch(t){case"FL104210000":e.setState({model:{checked0:!1,checked1:!1},flow0:!0,flow1:!1,flow2:!1});break;case"FL104210001":e.setState({model:{checked0:!0,checked1:!1},flow0:!0,flow1:!0,flow2:!1});break;case"FL104210002":e.setState({model:{checked0:!0,checked1:!0},flow0:!0,flow1:!0,flow2:!0});break;default:e.setState({model:{checked0:!1,checked1:!1},flow0:!0,flow1:!1,flow2:!1})}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setForms()}},{key:"componentWillReceiveProps",value:function(e){var t=e.infos;this.setState({infos:t}),this.setProcess(t.operation_44015),this.setState({operation_44015:t.operation_44015}),this.setForms(t.content)}},{key:"submits1",value:function(e){var t=this,n=this.state,a=n.forms,s=n.infos,l=d.default.setNullParameter(a);l.operation_44015=e;var c=f.getObjectParam("content",l),i=Object(r.a)({uuid:s.uuid,dmodel:d.default.getPath().id},c);j.submit(null,"result-unit-item/update",{param:i,successText:"\u64cd\u4f5c\u6210\u529f"}).then((function(n){t.setForms(n.content),t.setoperation_44015(e)}))}},{key:"setoperation_44015",value:function(e){var t=this;switch(e){case"FL104210000":this.setState({operation_44015:"FL104210001"},(function(){return t.setProcess(t.state.operation_44015)}));break;case"FL104210001":case"FL104210002":this.setState({operation_44015:"FL104210002"},(function(){return t.setProcess(t.state.operation_44015)}));break;default:this.setState({operation_44015:"FL104210000"},(function(){return t.setProcess(t.state.operation_44015)}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.forms,r=t.infos,s=t.model,l=t.keys;return Object(a.jsxs)(g,{className:"fv",title:"\u5b9e\u9a8c\u7ed3\u679c",style:{width:350},titleChildren:Object(a.jsx)("div",{className:"fxm",children:Object(a.jsx)(x,{label:"\u4fdd\u5b58",className:"ml10",onClick:function(){return e.submits()}})}),children:[f.hasObject(r)&&"1"===r.is_coll_pic&&Object(a.jsx)(O,{name:"imgs",value:n.imgs,handleChange:function(t,n){return e.changeInput(t,n)}}),f.hasObject(r)&&"1"===r.is_upload_report_form&&Object(a.jsx)(k,{name:"report_form_imgs",value:n.report_form_imgs,handleChange:function(t,n){return e.changeInput(t,n)}}),this.state.flow0&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C,{title:"\u63a5\u79cd"}),Object(a.jsx)(p,{name:"checked0",value:s.checked0,disabled:this.state.flow1,onChange:function(t,n){return e.changeCheckbox(t,n)},label:"\u662f\u5426\u63a5\u79cd\u5b8c\u6210"})]}),this.state.flow1&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C,{title:"\u6536\u83b7"}),Object(a.jsx)(p,{name:"checked1",value:s.checked1,disabled:this.state.flow2,onChange:function(t,n){return e.changeCheckbox(t,n)},label:"\u662f\u5426\u6536\u83b7\u5b8c\u6210"})]}),this.state.flow2&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(C,{title:"\u7ed3\u679c"}),Object(a.jsx)(w,{title:"\u63a5\u79cd\u4eba",titleChildren:Object(a.jsx)(_,{name:"vaccinate_real_name",disabled:!0,bordered:!1,value:n.vaccinate_real_name,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u63a5\u79cd\u65f6\u95f4",titleChildren:Object(a.jsx)(_,{name:"vaccinate_at",disabled:!0,bordered:!1,value:n.vaccinate_at,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u6536\u83b7\u4eba",titleChildren:Object(a.jsx)(_,{name:"harvest_real_name",disabled:!0,bordered:!1,value:n.harvest_real_name,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u6536\u83b7\u65f6\u95f4",titleChildren:Object(a.jsx)(_,{name:"harvest_at",disabled:!0,bordered:!1,value:n.harvest_at,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u6761\u5e26\u6c34\u5e73",titleChildren:Object(a.jsx)(_,{name:"take_level",bordered:!1,value:n.take_level,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u521d\u6b65\u7ed3\u679c",titleChildren:Object(a.jsx)(_,{name:"preliminary_result",mode:"textarea",bordered:!1,value:n.preliminary_result,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u8bb0\u6570\u7ec6\u80de\u6570",titleChildren:Object(a.jsx)(_,{name:"count_cells",bordered:!1,value:n.count_cells,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u5206\u6790\u7ec6\u80de\u6570",titleChildren:Object(a.jsx)(_,{name:"analyze_cells",bordered:!1,value:n.analyze_cells,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u62cd\u6444\u7ec6\u80de\u6570",titleChildren:Object(a.jsx)(_,{name:"shoot_cells",bordered:!1,value:n.shoot_cells,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u68c0\u9a8c\u8bca\u65ad",titleChildren:Object(a.jsx)(_,{name:"test_diagnosis",mode:"textarea",bordered:!1,value:n.test_diagnosis,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)(w,{title:"\u7ed3\u679c\u89e3\u91ca",titleChildren:Object(a.jsx)(_,{name:"result_interpretation",mode:"textarea",bordered:!1,value:n.result_interpretation,onChange:function(t,n,a){return e.changeInput(t,a)}})}),Object(a.jsx)("p",{className:"g9 lh20",children:'(\u4f7f\u7528\u5411\u4e0b" \u2193 "\u7bad\u5934\u81ea\u52a8\u641c\u7d22)'}),Object(a.jsx)(w,{title:"\u5efa\u8bae\u5176\u4ed6\u68c0\u6d4b",titleChildren:Object(a.jsx)(_,{name:"other_tests",mode:"textarea",bordered:!1,value:n.other_tests,onChange:function(t,n,a){return e.changeInput(t,a)}})})]})]},l)}}]),n}(h.a.Component)}}]);
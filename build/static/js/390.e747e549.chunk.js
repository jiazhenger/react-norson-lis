(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[390],{632:function(t,n,r){"use strict";r.r(n),r.d(n,"default",(function(){return v}));var e=r(5),a=r(22),i=r(23),o=r(25),u=r(24),p=r(0),c=r.n(p),s=window,f=s.$http,l=s.$fn,m=(0,s.$async)((function(){return r.e(7).then(r.bind(null,142))})),v=function(t){Object(o.a)(r,t);var n=Object(u.a)(r);function r(){var t;Object(a.a)(this,r);for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))).state={submit:[]},t.model={},t}return Object(i.a)(r,[{key:"setPrinterInfo",value:function(){var t=this,n=this.state.submit,r=l.longSave("printer_info"),e=l.longSave("printer");f.pull(null,"printer/tmplList").then((function(a){if(r)for(var i in a)a[i].printer_code=r[i].printer_code||"",t.printerData=a;else t.printerData=a;if(t.printerData=a,t.printerData){var o={};for(var u in t.printerData){var p=t.printerData[u];o={label:p.remark,name:p.name,data:p.printer,type:"select",nameStr:"printer_name",idStr:"printer_code",full:!0,width:"100%"},n.push(o)}}l.setSubmitValues(n,e||{},(function(){t.setState({submit:n})})),l.longSave("printer_info",t.printerData)}))}},{key:"componentDidMount",value:function(){this.setPrinterInfo()}},{key:"render",value:function(){var t=this,n=this.state.submit,r=this.props.onClose;return Object(e.jsx)(m,{modal:!0,data:n,onChange:function(t,r,e){var a=e.name;e.data;n.forEach((function(n){a===n.name&&(n.value=t)}))},onSubmit:function(n){for(var e in t.printerData)for(var a in n)a===t.printerData[e].name&&(t.printerData[e].printer_code=n[a]);l.longSave("printer",n),l.longSave("printer_info",t.printerData),r&&r()},onClose:function(){return r&&r()},init:function(n){return t.form=n}})}}]),r}(c.a.Component)}}]);
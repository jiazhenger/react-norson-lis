(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[115],{446:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n(5),l=n(22),i=n(23),c=n(27),o=n(25),r=n(24),s=n(0),d=n.n(s),u=window,h=u.$fn,p=u.$async,f=u.$http,m=n.e(9).then(n.bind(null,144)),b=p((function(){return n.e(6).then(n.bind(null,137))})),y=p((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),v=function(e){Object(o.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={data:[],pag:{},selectedKeys:[]},e.optypeSelect=[{label:"\u52a0\u505a",value:"1"},{label:"\u51cf\u505a",value:"2"}],e.forms=[{label:"\u9879\u76ee\u540d\u79f0",name:"kind_name",type:"select",data:[],nameStr:"name",idStr:"value"},{label:"\u6761\u7801\u53f7",name:"spec_code",type:"input"},{label:"\u662f\u5426\u52a0\u505a\u9879\u76ee",name:"op_type",type:"select",data:e.optypeSelect,nameStr:"label",idStr:"value"}],e.model={},e.fetch=function(t){return h.fetch.call(Object(c.a)(e),"sp-additional/index",t)},e.cols=[{title:"\u9879\u76ee\u540d\u79f0",field:"kind_name",width:120},{title:"\u6761\u7801\u53f7",field:"spec_code",width:120},{title:"\u64cd\u4f5c\u4eba",field:"op_name",width:120},{title:"\u64cd\u4f5c\u65f6\u95f4",field:"op_time",width:120},{title:"\u5907\u6ce8",field:"op_reason",width:120},{title:"\u662f\u5426\u52a0\u505a",field:"op_type",width:120,render:function(t){var n=t.rows;return window.$fn.filterSelect(e.optypeSelect,n.op_type,"label","value")}}],e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.then((function(t){h.getCache({cache:t.default.dictionarySelect,name:"name",id:"value",callback:function(t){h.hasArray(t)?e.forms[0].data=t:f.submit(null,"dictionary/select").then((function(t){e.forms[0].data=t,h.setCache()}))}})})),this.fetch()}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,l=t.pullLoading,i=t.pag;return Object(a.jsxs)("div",{className:"wh fv r5px bcf f12",children:[Object(a.jsx)(b,{data:this.forms,onChange:function(t,n){return h.onChange.call(e,t,n)},onSubmit:h.onSubmit.bind(this),onReset:h.onReset.bind(this,this.forms),loading:l}),Object(a.jsx)(y,{className:"xplr",cols:this.cols,data:n,loading:l,onRow:function(t){return e.setState({selectedKeys:t})},pag:i,onChange:function(t,n){return h.pageChange.call(e,{current:t,pageSize:n})}})]})}}]),n}(d.a.Component)}}]);
(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[116],{447:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(5),i=n(22),s=n(23),c=n(27),l=n(25),o=n(24),r=n(0),d=n.n(r),u=window,h=u.$fn,f=u.$async,p=u.$http,m=n.e(9).then(n.bind(null,144)),b=f((function(){return n.e(6).then(n.bind(null,137))})),g=f((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),y=function(e){Object(l.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={data:[],pag:{},selectedKeys:[]},e.forms=[{label:"\u533b\u9662",name:"hosp_id",type:"select",data:[],nameStr:"name",idStr:"value"},{label:"\u533b\u9662\u7f16\u53f7",name:"hosp_code",type:"input"},{label:"\u521b\u5efa\u65f6\u95f4",name:"date",type:"date-range",names:["start_date","end_date"]}],e.model={},e.fetch=function(t){return h.fetch.call(Object(c.a)(e),"st-cs-hosp/index",t)},e.cols=[{title:"\u533b\u9662\u540d\u79f0",field:"hosp_name",width:120},{title:"\u533b\u9662\u7f16\u53f7",field:"hosp_code",width:120},{title:"\u6807\u672c\u6570\u91cf",field:"spec_num",width:120},{title:"\u65f6\u95f4",field:"st_time",width:120}],e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.then((function(t){h.getCache({cache:t.default.BsHospitalSelect,name:"name",id:"value",callback:function(t){e.setState({data:t}),h.hasArray(t)?e.forms[0].data=t:p.submit(null,"bs-hospital/select").then((function(t){e.forms[0].data=t,h.setCache()}))}})})),this.fetch()}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,i=t.pullLoading,s=t.pag;return Object(a.jsxs)("div",{className:"wh fv r5px bcf f12",children:[Object(a.jsx)(b,{data:this.forms,onChange:function(t,n){return h.onChange.call(e,t,n)},onSubmit:h.onSubmit.bind(this),onReset:h.onReset.bind(this,this.forms),loading:i}),Object(a.jsx)(g,{className:"xplr",cols:this.cols,data:n,loading:i,onRow:function(t){return e.setState({selectedKeys:t})},pag:s,onChange:function(t,n){return h.pageChange.call(e,{current:t,pageSize:n})}})]})}}]),n}(d.a.Component)}}]);
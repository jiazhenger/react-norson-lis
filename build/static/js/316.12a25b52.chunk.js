(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[316],{574:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return y}));var n=a(5),l=a(22),c=a(23),i=a(27),r=a(25),s=a(24),o=a(0),u=a.n(o),d=window,h=d.$http,f=d.$fn,p=d.$async,m=p((function(){return a.e(5).then(a.bind(null,135))})),b=a.e(9).then(a.bind(null,144)),g=p((function(){return a.e(6).then(a.bind(null,137))})),j=p((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(11)]).then(a.bind(null,133))})),y=function(t){Object(r.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={data:[],pag:{},selectedKeys:[]},t.forms=[{label:"\u7edf\u8ba1\u65f6\u95f4",name:"date",type:"date-range",names:["start_at","end_at"],value:[]},{label:"\u79d1\u5ba4",name:"project_parent_id",type:"select",data:[]},{label:"\u5c97\u4f4d",name:"project_id",type:"select",data:[],idStr:"uuid"},{label:"\u533b\u9662",name:"hosp_id",type:"select",data:[]}],t.model={},t.fetch=function(e){return f.fetch.call(Object(i.a)(t),"statistics/labCrisisCount",e)},t.cols=[{title:"\u533b\u9662",field:"hosp_name"},{title:"\u79d1\u5ba4",field:"project_parent_name"},{title:"\u5c97\u4f4d",field:"project_name"},{title:"\u68c0\u6d4b\u9879\u76ee\u540d\u79f0",field:"kind_name"},{title:"\u68c0\u6d4b\u7ed3\u679c",field:"result"},{title:"\u5371\u6025\u503c\u7ed3\u679c\u6279\u51c6\u65f6\u95f4",field:"ts_approve_at",align:"tc"},{title:"\u5371\u6025\u503c\u7ed3\u679c\u7535\u8bdd\u62a5\u544a\u65f6\u95f4",field:"",align:"tc"},{title:"\u5371\u6025\u503c\u7535\u8bdd\u62a5\u544a\u4e0e\u7ed3\u679c\u6279\u51c6\u65f6\u95f4\u5dee",field:"",align:"tc"},{title:"\u63a5\u6536\u9879\u76ee\u4e0e\u7ed3\u679c\u6279\u51c6\u65f6\u95f4\u5dee",field:"receive2report_at",align:"tc"}],t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this;b.then((function(e){var a=e.default;f.getCache({cache:a.ProjectTeamSelect,callback:function(e){f.hasArray(e)?t.forms[1].data=e:h.submit(null,"project-team/select").then((function(e){t.forms[1].data=e,f.setCache()}))}}),f.getCache({cache:a.laboratoryselect,callback:function(e){f.hasArray(e)?t.forms[2].data=e:h.submit(null,"project-team/laboratoryselect").then((function(e){t.forms[2].data=e,f.setCache()}))}}),f.getCache({cache:a.BsHospitalSelect,callback:function(e){f.hasArray(e)?t.forms[3].data=e:h.submit(null,"bs-hospital/select").then((function(e){t.forms[3].data=e,f.setCache()}))}})})),this.fetch(this.model)}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,l=e.pullLoading,c=e.pag;return Object(n.jsxs)(m,{title:"\u5b9e\u9a8c\u5ba4\u5371\u6025\u503c\u7edf\u8ba1",children:[Object(n.jsx)(g,{data:this.forms,onChange:function(e,a){return f.onChange.call(t,e,a)},onSubmit:f.onSubmit.bind(this),onAdd:this.onAdd,onReset:f.onReset.bind(this,this.forms),loading:l}),Object(n.jsx)(j,{className:"xplr",cols:this.cols,data:a,loading:l,onRow:function(e){return t.setState({selectedKeys:e})},pag:c,onChange:function(e,a){return f.pageChange.call(t,{current:e,pageSize:a})}})]})}}]),a}(u.a.Component)}}]);
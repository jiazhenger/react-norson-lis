(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[311],{562:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(5),i=n(22),l=n(23),r=n(27),c=n(25),s=n(24),o=n(0),d=n.n(o),u=window,h=u.$fn,m=u.$async,f=m((function(){return n.e(5).then(n.bind(null,135))})),b=m((function(){return n.e(6).then(n.bind(null,137))})),p=m((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),g=[{name:"\u6570\u91cf\u4e0d\u8db3",value:"1"},{name:"\u5373\u5c06\u8fc7\u671f",value:"2"}],y=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={data:[],pag:{},selectedKeys:[]},e.forms=[{label:"\u7269\u6599\u540d\u79f0",name:"mate_name"},{label:"\u7269\u6599\u7f16\u53f7",name:"mate_number"},{label:"\u7269\u6599\u5206\u7c7b",name:"mate_type",type:"select",data:[]},{label:"\u8b66\u544a\u7c7b\u578b",name:"warn_type",type:"select",data:[]}],e.model={},e.fetch=function(t){return h.fetch.call(Object(r.a)(e),"material/warning",t)},e.cols=[{title:"\u7269\u6599\u540d\u79f0",field:"mate_name",width:130},{title:"\u7269\u6599\u7f16\u53f7",field:"mate_number",width:100},{title:"\u7269\u6599\u7c7b\u578b",field:"type",width:80},{title:"\u5269\u4f59\u91cf",field:"unuse_qty",width:80},{title:"\u8ddd\u79bb\u8fc7\u671f\uff08\u5929\uff09",field:"expire_date_num",width:80},{title:"\u4fdd\u8d28\u671f",field:"shelf_life",width:100}],e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.forms[3].data=g,h.getDisItem({code:26e3,callback:function(t){e.forms[2].data=t}}),this.fetch(this.model)}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,i=t.pullLoading,l=t.pag;return Object(a.jsxs)(f,{title:"\u5e93\u5b58\u8b66\u544a\u5217\u8868",children:[Object(a.jsx)(b,{data:this.forms,onChange:function(t,n,a){a.name,a.data;return h.onChange.call(e,t,n)},onSubmit:h.onSubmit.bind(this),onAdd:this.onAdd,onReset:h.onReset.bind(this,this.forms),loading:i}),Object(a.jsx)(p,{className:"xplr",cols:this.cols,data:n,loading:i,onRow:function(t){return e.setState({selectedKeys:t})},pag:l,onChange:function(t,n){return h.pageChange.call(e,{current:t,pageSize:n})}})]})}}]),n}(d.a.Component)}}]);
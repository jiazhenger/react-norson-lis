(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[71],{387:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(5),c=n(22),i=n(23),l=n(27),o=n(25),s=n(24),r=n(0),u=n.n(r),d=window,h=d.$http,f=d.$fn,b=d.$async,m=b((function(){return n.e(5).then(n.bind(null,135))})),p=n.e(9).then(n.bind(null,144)),g=b((function(){return n.e(6).then(n.bind(null,137))})),j=b((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),y=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={data:[],pag:{},selectedKeys:[]},e.forms=[{label:"\u5c97\u4f4d",name:"project_id",type:"select",data:[],idStr:"uuid"},{label:"\u9879\u76ee",name:"kind_id",type:"select",data:[]}],e.model={},e.fetch=function(t){return f.fetch.call(Object(l.a)(e),"Specimen/laboratoryListsCount",t)},e.cols=[{title:"\u5c97\u4f4d",field:"project_name"},{title:"\u9879\u76ee\u540d\u79f0",field:"kind_name"},{title:"\u6570\u91cf",field:"count"},{title:"\u6807\u51c6\u6536\u8d39",field:"sprice"},{title:"\u5b9e\u9645\u6536\u8d39",field:"price"}],e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.then((function(t){var n=t.default;f.getCache({cache:n.labkindselect,callback:function(t){f.hasArray(t)?e.forms[1].data=t:h.submit(null,"specimen/labkindselect").then((function(t){e.forms[1].data=t,f.setCache()}))}}),f.getCache({cache:n.jobAllselect,callback:function(t){console.log(t),f.hasArray(t)?e.forms[0].data=t:h.submit(null,"project-team/jobAllselect").then((function(t){e.forms[0].data=t,f.setCache()}))}})})),this.fetch(this.model)}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,c=t.pullLoading,i=t.pag;return Object(a.jsxs)(m,{title:"\u9879\u76ee\u7edf\u8ba1\u5355",children:[Object(a.jsx)(g,{data:this.forms,onChange:function(t,n){return f.onChange.call(e,t,n)},onSubmit:f.onSubmit.bind(this),onAdd:this.onAdd,onReset:f.onReset.bind(this,this.forms),loading:c}),Object(a.jsx)(j,{className:"xplr",cols:this.cols,data:n,loading:c,onRow:function(t){return e.setState({selectedKeys:t})},pag:i,onChange:function(t,n){return f.pageChange.call(e,{current:t,pageSize:n})}})]})}}]),n}(u.a.Component)}}]);
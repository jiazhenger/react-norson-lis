(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[405],{395:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var s=n(5),a=n(2),r=n(22),c=n(23),i=n(27),l=n(25),o=n(24),u=n(0),h=n.n(u),d=n(150),f=window,b=f.$async,m=f.$fn,j=f.$http,g=b((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(17)]).then(n.bind(null,146))})),_=b((function(){return Promise.all([n.e(0),n.e(30)]).then(n.bind(null,204))})),p=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),x=b((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,94))})),k=b((function(){return n.e(23).then(n.bind(null,202))})),O=b((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(29)]).then(n.bind(null,181))})),w=b((function(){return n.e(21).then(n.bind(null,199))})),v=function(e){var t=e.title,n=e.titleChildren;return Object(s.jsxs)("h3",{className:"fxm h30",children:[Object(s.jsx)("i",{className:"r100px mr5",style:{width:5,height:5,background:"#333"}}),Object(s.jsx)("span",{children:t}),Object(s.jsx)("div",{className:"ex tr",children:n})]})},C=function(e){var t=e.title,n=e.titleChildren;return Object(s.jsxs)("div",{className:"fx mt10 plr10",children:[Object(s.jsxs)("span",{style:{width:"80px"},children:[t,"\uff1a"]}),Object(s.jsx)("div",{className:"ex",children:n})]})},F=function(e){Object(l.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={forms:{},infos:{},model:{checked0:!1,checked1:!1,checked2:!1},flow0:!0,flow1:!1,flow2:!1,flow3:!1,operation_44018:"FL1000010000",keys:0},e.setForms=function(t){var n=e.state,s=n.forms,r=n.keys;m.hasObject(t)?(s.imgs=t.imgs||[],s.report_form_imgs=t.report_form_imgs||"",s.probe_name=t.probe_name||"",s.analysis_cell_number=t.analysis_cell_number||"",s.pathological_diagnosis=t.pathological_diagnosis||"",s.wax_stone=t.wax_stone||"",s.testing_result_id=t.testing_result_id||"",s.testing_result=t.testing_result||"",s.result_suggestion_id=t.result_suggestion_id||"",s.result_suggestion_name=t.result_suggestion_name||"",s.result=t.result||"",e.setState({forms:Object(a.a)(Object(a.a)({},t),s),keys:r+1})):(s.imgs=[],s.report_form_imgs="",s.probe_name="",s.analysis_cell_number="",s.pathological_diagnosis="",s.wax_stone="",s.testing_result_id="",s.testing_result="",s.result_suggestion_id="",s.result_suggestion_name="",s.result="",e.setState({forms:s,keys:r+1}))},e.changeInput=function(t,n){return d.default.changeInput.call(Object(i.a)(e),t,n)},e.changeCheckbox=function(t,n){var s=e.state.model;s[n]=t[n],e.setState({model:s})},e.submits=function(){var t=e.state,n=t.infos,s=t.model,a=t.operation_44018;if(!m.hasObject(n))return p.then((function(e){return e.default.error("\u8bf7\u9009\u62e9\u4e00\u6761\u5217\u8868\u6570\u636e")}));switch(a){case"FL1000010000":if(!s.checked0)return p.then((function(e){return e.default.error("\u8bf7\u52fe\u9009\u524d\u5904\u7406\u5b8c\u6210")}));e.submits1(a);break;case"FL1000010001":if(!s.checked1)return p.then((function(e){return e.default.error("\u8bf7\u52fe\u9009\u6742\u4ea4\u5b8c\u6210")}));e.submits1(a);break;case"FL1000010002":if(!s.checked2)return p.then((function(e){return e.default.error("\u8bf7\u52fe\u9009\u540e\u5904\u7406\u5b8c\u6210")}));e.submits1(a);break;case"FL1000010007":e.submits1(a);break;default:p.then((function(e){return e.default.error("\u63d0\u4ea4\u5931\u8d25\uff0c\u6ca1\u6709".concat(a,"\u8fd9\u4e2a\u6d41\u7a0b"))}))}},e.setProcess=function(t){switch(t){case"FL1000010000":e.setState({model:{checked0:!1,checked1:!1,checked2:!1},flow0:!0,flow1:!1,flow2:!1,flow3:!1});break;case"FL1000010001":e.setState({model:{checked0:!0,checked1:!1,checked2:!1},flow0:!0,flow1:!0,flow2:!1,flow3:!1});break;case"FL1000010002":e.setState({model:{checked0:!0,checked1:!0,checked2:!1},flow0:!0,flow1:!0,flow2:!0,flow3:!1});break;case"FL1000010007":e.setState({model:{checked0:!0,checked1:!0,checked2:!0},flow0:!0,flow1:!0,flow2:!0,flow3:!0});break;default:e.setState({model:{checked0:!1,checked1:!1,checked2:!1},flow0:!0,flow1:!1,flow2:!1,flow3:!1})}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setForms()}},{key:"componentWillReceiveProps",value:function(e){var t=e.infos;this.setState({infos:t,operation_44018:t.operation_44018}),this.setProcess(t.operation_44018),this.setForms(t.content)}},{key:"submits1",value:function(e){var t=this,n=this.state,s=n.forms,r=n.infos,c=d.default.setNullParameter(s);c.operation_44018=e;var i=m.getObjectParam("content",c),l=Object(a.a)({uuid:r.uuid,dmodel:d.default.getPath().id},i);j.submit(null,"result-unit-item/update",{param:l,successText:"\u64cd\u4f5c\u6210\u529f"}).then((function(n){t.setoperation_44018(e)}))}},{key:"setoperation_44018",value:function(e){var t=this;switch(e){case"FL1000010000":this.setState({operation_44018:"FL1000010001"},(function(){return t.setProcess(t.state.operation_44018)}));break;case"FL1000010001":this.setState({operation_44018:"FL1000010002"},(function(){return t.setProcess(t.state.operation_44018)}));break;case"FL1000010002":case"FL1000010007":this.setState({operation_44018:"FL1000010007"},(function(){return t.setProcess(t.state.operation_44018)}));break;default:this.setState({operation_44018:"FL1000010000"},(function(){return t.setProcess(t.state.operation_44018)}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.forms,a=t.infos,r=t.model,c=t.keys;return Object(s.jsxs)(k,{className:"fv",title:"\u5b9e\u9a8c\u7ed3\u679c",style:{width:350},titleChildren:Object(s.jsx)("div",{className:"fxm",children:Object(s.jsx)(x,{label:"\u4fdd\u5b58",className:"ml10",onClick:function(){return e.submits()}})}),children:[m.hasObject(a)&&"1"===a.is_coll_pic&&Object(s.jsx)(O,{name:"imgs",value:n.imgs,handleChange:function(t,n){return e.changeInput(t,n)}}),m.hasObject(a)&&"1"===a.is_upload_report_form&&Object(s.jsx)(w,{name:"report_form_imgs",value:n.report_form_imgs,handleChange:function(t,n){return e.changeInput(t,n)}}),this.state.flow0&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{title:"\u524d\u5904\u7406"}),Object(s.jsx)(_,{name:"checked0",value:r.checked0,disabled:this.state.flow1,onChange:function(t,n){return e.changeCheckbox(t,n)},label:"\u662f\u5426\u524d\u5904\u7406\u5b8c\u6210"})]}),this.state.flow1&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{title:"\u6742\u4ea4"}),Object(s.jsx)(_,{name:"checked1",value:r.checked1,disabled:this.state.flow2,onChange:function(t,n){return e.changeCheckbox(t,n)},label:"\u662f\u5426\u6742\u4ea4\u5b8c\u6210"})]}),this.state.flow2&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{title:"\u540e\u5904\u7406"}),Object(s.jsx)(_,{name:"checked2",value:r.checked2,disabled:this.state.flow3,onChange:function(t,n){return e.changeCheckbox(t,n)},label:"\u662f\u5426\u540e\u5904\u7406\u5b8c\u6210"})]}),this.state.flow3&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(v,{title:"\u7ed3\u679c"}),Object(s.jsx)(C,{title:"\u63a2\u9488\u540d\u79f0\uff1a",titleChildren:Object(s.jsx)(g,{name:"probe_name",bordered:!1,value:n.probe_name,onChange:function(t,n,s){return e.changeInput(t,s)}})}),Object(s.jsx)(C,{title:"\u5206\u6790\u7ec6\u80de\u6570\uff1a",titleChildren:Object(s.jsx)(g,{name:"analysis_cell_number",bordered:!1,value:n.analysis_cell_number,onChange:function(t,n,s){return e.changeInput(t,s)}})}),Object(s.jsx)(C,{title:"\u75c5\u7406\u8bca\u65ad\uff1a",titleChildren:Object(s.jsx)(g,{name:"pathological_diagnosis",mode:"textarea",bordered:!1,value:n.pathological_diagnosis,onChange:function(t,n,s){return e.changeInput(t,s)}})}),Object(s.jsx)("p",{className:"g9 lh20",children:'(\u4f7f\u7528\u5411\u4e0b" \u2193 "\u7bad\u5934\u81ea\u52a8\u641c\u7d22)'}),Object(s.jsx)(C,{title:"\u8721\u5757/\u73bb\u7247\u53f7\uff1a",titleChildren:Object(s.jsx)(g,{name:"wax_stone",bordered:!1,value:n.wax_stone,onChange:function(t,n,s){return e.changeInput(t,s)}})}),Object(s.jsx)(C,{title:"\u7ed3\u679c\uff1a",titleChildren:Object(s.jsx)(g,{name:"result",bordered:!1,value:n.result,onChange:function(t,n,s){return e.changeInput(t,s)}})}),Object(s.jsx)(C,{title:"\u68c0\u6d4b\u7ed3\u679c\uff1a",titleChildren:Object(s.jsx)(g,{name:"testing_result",mode:"textarea",bordered:!1,value:n.testing_result,onChange:function(t,n,s){return e.changeInput(t,s)}})}),Object(s.jsx)("p",{className:"g9 lh20",children:'(\u4f7f\u7528\u5411\u4e0b" \u2193 "\u7bad\u5934\u81ea\u52a8\u641c\u7d22)'}),Object(s.jsx)(C,{title:"\u5efa\u8bae\u4e0e\u89e3\u91ca\uff1a",titleChildren:Object(s.jsx)(g,{name:"result_suggestion",mode:"textarea",bordered:!1,value:n.result_suggestion,onChange:function(t,n,s){return e.changeInput(t,s)}})}),Object(s.jsx)("p",{className:"g9 lh20",children:'(\u4f7f\u7528\u5411\u4e0b" \u2193 "\u7bad\u5934\u81ea\u52a8\u641c\u7d22)'})]})]},c)}}]),n}(h.a.Component)}}]);
(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[298],{499:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return w}));var a=n(5),i=n(22),l=n(23),c=n(27),r=n(25),s=n(24),o=n(0),d=n.n(o),u=window,h=u.$http,f=u.$fn,m=u.$async,p=m((function(){return n.e(5).then(n.bind(null,135))})),b=m((function(){return n.e(6).then(n.bind(null,137))})),g=m((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),y=n.e(9).then(n.bind(null,144)),w=function(t){Object(r.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))).state={data:[],pag:{},selectedKeys:[]},t.forms=[{label:"\u64cd\u4f5c\u4eba",name:"operator_name"},{label:"\u64cd\u4f5c\u65f6\u95f4",name:"date",type:"date-range",names:["created_time_start_date","created_time_end_date"],value:[]},{label:"\u7c7b\u578b",name:"dtype",type:"select",data:[]},{label:"\u63cf\u8ff0",name:"title",type:"textarea"}],t.model={},t.fetch=function(e){return f.fetch.call(Object(c.a)(t),"slog/sysLogs",e)},t.cols=[{title:"Id",field:"id",width:50},{title:"\u6a21\u5757",field:"dtype_str",width:130},{title:"\u64cd\u4f5c\u4eba",field:"operator_name",width:80},{title:"\u64cd\u4f5c\u65f6\u95f4",field:"created_time",width:160,align:"tc"},{title:"\u63cf\u8ff0",field:"title",width:500,tdCss:"wpn"}],t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;y.then((function(e){var n=e.default;f.getCache({cache:n.slogSelect,callback:function(e){f.hasArray(e)?t.forms[2].data=e:h.submit(null,"slog/select").then((function(e){t.forms[2].data=e,f.setCache()}))}})})),this.fetch(this.model)}},{key:"render",value:function(){var t=this,e=this.state,n=e.data,i=e.pullLoading,l=e.pag;return Object(a.jsxs)(p,{title:"\u7cfb\u7edf\u65e5\u5fd7",children:[Object(a.jsx)(b,{data:this.forms,onChange:function(e,n){return f.onChange.call(t,e,n)},onSubmit:f.onSubmit.bind(this),onAdd:this.onAdd,onReset:f.onReset.bind(this,this.forms),loading:i}),Object(a.jsx)(g,{className:"xplr",cols:this.cols,data:n,loading:i,onRow:function(e){return t.setState({selectedKeys:e})},pag:l,onChange:function(e,n){return f.pageChange.call(t,{current:e,pageSize:n})}})]})}}]),n}(d.a.Component)}}]);
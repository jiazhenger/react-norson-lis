(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[396],{376:function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return x}));var l=i(5),a=i(2),n=i(22),s=i(23),c=i(27),r=i(25),d=i(24),o=i(0),u=i.n(o),h=i(124),p=window,f=p.$http,b=p.$fn,m=p.$async,j=m((function(){return Promise.resolve().then(i.bind(null,94))})),w=m((function(){return Promise.all([i.e(4),i.e(8)]).then(i.bind(null,133))})),v=m((function(){return i.e(26).then(i.bind(null,293))})),x=function(e){Object(r.a)(i,e);var t=Object(d.a)(i);function i(){var e;Object(n.a)(this,i);for(var s=arguments.length,r=new Array(s),d=0;d<s;d++)r[d]=arguments[d];return(e=t.call.apply(t,[this].concat(r))).state={data:[],pag:{},selectedKeys:[],submit:[{label:"\u539f\u56e0",name:"reason"},{label:"\u56fe\u7247",name:"img",type:"textarea"}],specCode:""},e.forms=[],e.model={},e.statusList=[{label:"\u4f5c\u5e9f",value:"45801"},{label:"\u6b63\u5e38",value:"45802"}],e.options=[{label:"\u6b63\u5e38",value:"1"},{label:"\u51b2\u62b5",value:"2"}],e.check={},e.fetch=function(t){return f.paging(Object(c.a)(e),"bill/speclists",{param:Object(a.a)(Object(a.a)({},t),{},{pageSize:e.pageSize},e.model),loading:!1})},e.cols=[{title:"\u6761\u7801",field:"old_spec_code",width:120,render:function(t){var i=t.text;t.rows;return Object(l.jsx)("span",{onDoubleClick:function(){e.setState({specCode:i}),e.refs.modal1.open()},children:i})}},{title:"\u8d26\u671f",field:"phase_str",width:120},{title:"\u81ea\u7136\u9879\u76ee",field:"category_name",width:120},{title:"\u8d26\u5355\u7c7b\u578b",field:"pay_type",width:120,render:function(t){var i=t.rows;return window.$fn.filterSelect(e.options,i.pay_type,"label","value")}},{title:"\u533b\u9662\u540d\u79f0",field:"hosp_name",width:120},{title:"\u9879\u76ee\u540d\u79f0",field:"kind_name",width:120},{title:"\u6807\u51c6\u4ef7\u683c",field:"sprice",width:120},{title:"\u6298\u6263\u7387",field:"percent",width:120},{title:"\u5b9e\u9645\u4ef7\u683c",field:"price",width:120},{title:"\u6298\u6263\u91d1\u989d",field:"perprice",width:120},{title:"\u5e10\u5355\u751f\u6210\u65f6\u95f4",field:"created_at",width:120},{title:"\u8d26\u5355\u72b6\u6001",field:"status",width:120,render:function(t){var i=t.rows;return window.$fn.filterSelect(e.statusList,i.status,"label","value")}},{title:"\u5907\u6ce8",field:"remark",width:120},{title:"\u64cd\u4f5c",field:"custom",width:120,render:function(t){var i=t.rows;return Object(l.jsx)("div",{className:"plr5",children:Object(l.jsx)(j,{label:"\u67e5\u770b\u5176\u4ed6",ghost:!0,className:"ml15",onClick:function(){e.refs.modal1.open(),f.submit(null,"bill/viewpic",{param:{uuid:i.uuid}}).then((function(t){e.check=t}))}})})}}],e}return Object(s.a)(i,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){if(e.rowdata.length>0){var t=e.rowdata.length-1;this.model.hosp_id=e.rowdata[t].hosp_id,this.model.summary_sn=e.model.summary_sn,this.fetch()}}},{key:"render",value:function(){var e=this,t=this.state,i=t.data,a=t.pullLoading,n=t.pag,s=t.specCode;return Object(l.jsxs)("div",{children:[Object(l.jsx)(h.a,{ref:"modal1",title:"\u67e5\u770b\u5176\u4ed6",width:648,noFooter:!0,children:Object(l.jsxs)("div",{className:"p20 r6px",children:[Object(l.jsxs)("div",{className:"pb20 pt20",children:[Object(l.jsx)("span",{className:"dk pr10",children:"\u539f\u56e0:"}),Object(l.jsx)("input",{type:"textarea",className:" bor1 h70 ",disabled:!0,style:{width:"84%"},value:this.check.reason})]}),Object(l.jsxs)("div",{className:"pb20",children:[Object(l.jsx)("span",{className:"dk pr10",children:"\u56fe\u7247:"}),Object(l.jsx)("div",{className:"dk bor1 h100 w tc",style:{width:"84%",lineHeight:"100px"},children:this.check.img||"\u6682\u65e0\u56fe\u7247"})]})]})}),Object(l.jsx)(w,{className:"xplr",cols:this.cols,data:i,loading:a,onRow:function(t){e.setState({selectedKeys:t})},pag:n,onChange:function(t,i){return b.pageChange.call(e,{current:t,pageSize:i})}}),Object(l.jsx)(h.a,{ref:"modal1",title:"\u8d26\u5355\u4fe1\u606f",width:1e3,noFooter:!0,children:Object(l.jsx)(v,{className:"fv rel ex xplr",specCode:s||""})})]})}}]),i}(u.a.Component)}}]);
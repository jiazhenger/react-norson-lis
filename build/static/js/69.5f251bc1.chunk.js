(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[69],{357:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return j}));var a=n(5),u=n(2),i=n(22),c=n(23),s=n(25),r=n(24),l=n(0),o=n.n(l),d=window,m=d.$fn,f=d.$http,h=d.$async,p=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),b=h((function(){return n.e(7).then(n.bind(null,142))})),y=n.e(9).then(n.bind(null,144)),j=function(t){Object(s.a)(n,t);var e=Object(r.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return(t=e.call.apply(e,[this].concat(u))).state={submit:[{label:"\u79d1\u5ba4",name:"project_pid",type:"select",data:[],full:!0,width:"100%",required:!0,idStr:"uuid"},{label:"\u7269\u6d41\u4eba\u5458",name:"empl_id",type:"select",data:[],full:!0,width:"100%",required:!0}]},t.model={},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.state.submit,n=this.props.rows;f.submit(null,"project-team/select",{param:{type:"2"}}).then((function(n){e[0].data=n,t.setState({submit:e})})),y.then((function(n){var a=n.default;m.getCache({cache:a.employeeSelect,callback:function(t){m.hasArray(t)?e[1].data=t:f.submit(null,"employee/select").then((function(t){e[1].data=t,m.setCache()}))}}),t.setState({submit:e})})),n&&Object.keys(n).length&&setTimeout((function(){t.form.setFieldsValue(Object(u.a)({},n))}),200)}},{key:"render",value:function(){var t=this,e=this.state.submit,n=this.props,i=n.type,c=n.rows,s=n.onClose,r=n.fetch;return Object(a.jsx)(b,{modal:!0,data:e,onSubmit:function(t){if("add"===i){var e=Object(u.a)({},t);f.submit(null,"specimen/addOutsourcingEmployee",{param:e}).then((function(t){p.then((function(t){return t.default.success("\u6dfb\u52a0\u6210\u529f")})),s&&s(),r&&r()}))}else{var n=Object(u.a)(Object(u.a)({},t),{},{uuid:c.uuid});f.submit(null,"specimen/editOutsourcingEmployee",{param:n}).then((function(t){p.then((function(t){return t.default.success("\u7f16\u8f91\u6210\u529f")})),s&&s(),r&&r()}))}},onClose:function(){return s&&s()},init:function(e){return t.form=e}})}}]),n}(o.a.Component)}}]);
(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[321],{579:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var a=n(5),c=n(22),l=n(23),i=n(27),o=n(25),r=n(24),s=n(0),u=n.n(s),d=window,h=d.$http,f=d.$fn,m=d.$async,b=m((function(){return n.e(5).then(n.bind(null,135))})),p=n.e(9).then(n.bind(null,144)),g=m((function(){return n.e(6).then(n.bind(null,137))})),j=m((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),y=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))).state={data:[],pag:{},selectedKeys:[]},t.forms=[{label:"\u7edf\u8ba1\u65f6\u95f4",name:"date",type:"date-range",names:["start_at","end_at"],value:[]},{label:"\u79d1\u5ba4",name:"project_parent_id",type:"select",data:[]},{label:"\u5c97\u4f4d",name:"project_id",type:"select",data:[],idStr:"uuid"},{label:"\u68c0\u6d4b\u9879\u76ee",name:"kind_id",type:"select",data:[]}],t.model={},t.fetch=function(e){return f.fetch.call(Object(i.a)(t),"statistics/labSingleTestResultCount",e)},t.cols=[{title:"\u79d1\u5ba4",field:"project_parent_name"},{title:"\u5c97\u4f4d",field:"project_name"},{title:"\u68c0\u6d4b\u9879\u76ee\u540d\u79f0",field:"single_kind_name"},{title:"\u68c0\u6d4b\u6570\u91cf",field:"count_total"},{title:"\u6536\u8d39\u6807\u51c6",field:"sprice_total"},{title:"\u5b9e\u9645\u6536\u8d39",field:"price_total"}],t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;p.then((function(e){var n=e.default;f.getCache({cache:n.ProjectTeamSelect,callback:function(e){f.hasArray(e)?t.forms[1].data=e:h.submit(null,"project-team/select").then((function(e){t.forms[1].data=e,f.setCache()}))}}),f.getCache({cache:n.laboratoryselect,callback:function(e){f.hasArray(e)?t.forms[2].data=e:h.submit(null,"project-team/laboratoryselect").then((function(e){t.forms[2].data=e,f.setCache()}))}}),f.getCache({cache:n.kindinfoSelect,callback:function(e){f.hasArray(e)?t.forms[3].data=e:h.submit(null,"kind-info/select").then((function(e){t.forms[3].data=e,f.setCache()}))}})})),this.fetch(this.model)}},{key:"render",value:function(){var t=this,e=this.state,n=e.data,c=e.pullLoading,l=e.pag;return Object(a.jsxs)(b,{title:"\u6d4b\u8bd5\u6570\u7edf\u8ba1",children:[Object(a.jsx)(g,{data:this.forms,onChange:function(e,n){return f.onChange.call(t,e,n)},onSubmit:f.onSubmit.bind(this),onAdd:this.onAdd,onReset:f.onReset.bind(this,this.forms),loading:c}),Object(a.jsx)(j,{className:"xplr",cols:this.cols,data:n,loading:c,onRow:function(e){return t.setState({selectedKeys:e})},pag:l,onChange:function(e,n){return f.pageChange.call(t,{current:e,pageSize:n})}})]})}}]),n}(u.a.Component)}}]);
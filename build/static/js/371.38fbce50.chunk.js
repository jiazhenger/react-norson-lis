(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[371],{149:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(21),r=a.n(n);function s(e,t,a,n){var s=r.a.unstable_batchedUpdates?function(e){r.a.unstable_batchedUpdates(a,e)}:a;return e.addEventListener&&e.addEventListener(t,s,n),{remove:function(){e.removeEventListener&&e.removeEventListener(t,s)}}}},171:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},s=a(74),c=function(e,t){return n.createElement(s.a,Object.assign({},e,{ref:t,icon:r}))};c.displayName="EyeOutlined";t.a=n.forwardRef(c)},179:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(153);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(o){r=!0,s=o}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},343:function(e,t,a){"use strict";a.r(t);a(334);var n=a(333),r=(a(116),a(97)),s=a(5),c=a(6),i=(a(214),a(120)),o=a(179),l=a(0),u=a.n(l),d=a(136),b=a(305),f=a(616),p=window.$fn;t.default=function(e){e.className,e.title,e.children;var t=e.fileType,a=e.mode,l=e.onChange,j=e.name,m=e.value,h=e.api,v=e.params,y=e.multiple,O=(e.uploadType,u.a.useState(!1)),g=Object(o.a)(O,2),x=g[0],w=g[1],C=u.a.useState(),E=Object(o.a)(C,2),z=E[0],k=E[1],L=u.a.useCallback((function(e){var t=e.file,a=(e.fileList,t.status);if("uploading"!==a)if("done"===a){i.b.success("".concat(t.name," \u6587\u4ef6\u4e0a\u4f20\u6210\u529f!"));var n=t.response.data;if(y)l&&l(j?Object(c.a)({},j,n):n);else{var r="";p.hasArray(t.response.data)&&(r=t.response.data[0].img_path,k(r)),l&&l(j?Object(c.a)({},j,r):r)}w(!1)}else"error"===a&&(i.b.error("".concat(t.name," \u6587\u4ef6\u4e0a\u4f20\u5931\u8d25!")),w(!1));else w(!0)}),[l,j]);u.a.useEffect((function(){m&&k(m)}),[m]);var N=function(){return Object(s.jsx)(s.Fragment,{children:x?Object(s.jsx)(d.a,{className:"f30"}):Object(s.jsx)(b.a,{className:"f30"})})},S=u.a.useCallback((function(e){if("excel"!==t){var a="image/jpeg"===e.type||"image/png"===e.type;a||i.b.error("\u53ea\u80fd\u4e0a\u4f20 jpg/png \u683c\u5f0f\u56fe\u7247\u6587\u4ef6!");var n=e.size/1024/1024<2;return n||i.b.error("\u56fe\u7247\u5fc5\u5fc5\u987b\u5c0f\u4e8e 2M!"),a&&n}}),[t]),T="picture-card";"button"!==a&&"upBtn"!==a||(T="");var A={Authorization:"Bearer "+window.$fn.getToken()},B=p.local("user")?p.local("user").img_domain:"";return Object(s.jsxs)(n.a,{name:"Filedata",listType:T,showUploadList:!1,beforeUpload:S,onChange:L,action:window.$config.api+(h||"upload/img"),data:v,headers:A,multiple:y||!1,children:[!a&&(z?Object(s.jsx)("img",{src:B+z,alt:"avatar",style:{maxWidth:"100%",display:"inline-block"}}):Object(s.jsx)(N,{})),"button"===a&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(r.a,{children:[x?Object(s.jsx)(d.a,{className:"f14"}):Object(s.jsx)(f.a,{}),Object(s.jsx)("span",{children:z?"\u4e0a\u4f20\u6210\u529f":"\u4e0a\u4f20"})]}),Object(s.jsx)("span",{})]}),"upBtn"===a&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(r.a,{type:"primary",ghost:!0,size:"small",style:{borderRadius:"3px"},children:[x?Object(s.jsx)(d.a,{className:"f14"}):Object(s.jsx)(f.a,{}),Object(s.jsx)("span",{children:"\u4e0a\u4f20"})]}),Object(s.jsx)("span",{})]})]})}}}]);
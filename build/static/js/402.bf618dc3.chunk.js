(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[402],{392:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));var s=n(2),a=n(22),i=n(23),c=n(27),r=n(25),l=n(24),o=n(5),d=n(0),u=n.n(d),h=n(150),j=window,m=j.$async,b=j.$fn,f=j.$http,p=m((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(17)]).then(n.bind(null,146))})),g=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),O=m((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,94))})),x=m((function(){return n.e(23).then(n.bind(null,202))})),v=m((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(29)]).then(n.bind(null,181))})),_=m((function(){return n.e(21).then(n.bind(null,199))})),y=function(e){var t=e.title,n=e.titleChildren;return Object(o.jsxs)("h3",{className:"fxm h30",children:[Object(o.jsx)("i",{className:"r100px mr5",style:{width:5,height:5,background:"#333"}}),Object(o.jsx)("span",{children:t}),Object(o.jsx)("div",{className:"ex tr",children:n})]})},N=function(e){Object(r.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={forms:{},infos:{},keys:0},e.setForms=function(t){var n=e.state.forms;b.hasObject(t)?e.setState({forms:t}):(n.clinical_diagnosis="",n.naked_eye="",n.pathology="",n.pathological_diagnosis="",n.imgs="",n.report_form_imgs="",n.send_material="",n.visit_doctor_id="",n.return_visit_doctor_id="",e.setState({forms:n}))},e.changeInput=function(t,n){return h.default.changeInput.call(Object(c.a)(e),t,n)},e.submits=function(){var t=e.state,n=t.infos,a=t.forms;if(!b.hasObject(n))return g.then((function(e){return e.default.error("\u8bf7\u9009\u62e9\u4e00\u6761\u5217\u8868\u6570\u636e")}));var i=h.default.setNullParameter(a),c=b.getObjectParam("content",i),r=Object(s.a)(Object(s.a)({uuid:n.uuid},c),{},{dmodel:h.default.getPath().id,project_id:h.default.getPath().project_id,status:e.props.status});f.submit(null,"result-unit-item/update",{param:r,successText:"\u64cd\u4f5c\u6210\u529f"})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setForms()}},{key:"componentWillReceiveProps",value:function(e){var t=e.infos;this.setState({infos:t}),this.setForms(t.content)}},{key:"render",value:function(){var e=this,t=this.state,n=t.forms,s=t.infos,a=t.keys,i=this.props.width;return Object(o.jsxs)(x,{className:"fv",title:"\u5b9e\u9a8c\u7ed3\u679c",style:{width:i||350},titleChildren:Object(o.jsxs)("div",{className:"fxm",children:[Object(o.jsx)(O,{label:"\u4e0b\u53d1\u8bbe\u7f6e",ghost:!0,className:"ml10"}),Object(o.jsx)(O,{label:"\u4e0b\u53d1",ghost:!0,className:"ml10"}),Object(o.jsx)(O,{label:"\u4fdd\u5b58",ghost:!0,className:"ml10",onClick:function(){return e.submits()}})]}),children:[b.hasObject(s)&&"1"===s.is_coll_pic&&Object(o.jsx)(v,{name:"imgs",value:n.imgs,handleChange:function(t,n){return e.changeInput(t,n)}}),b.hasObject(s)&&"1"===s.is_upload_report_form&&Object(o.jsx)(_,{name:"report_form_imgs",value:n.report_form_imgs,handleChange:function(t,n){return e.changeInput(t,n)}}),Object(o.jsxs)("div",{className:"fx",children:[Object(o.jsxs)("div",{style:{width:"50%"},children:[Object(o.jsx)(y,{title:"\u9001\u68c0\u6750\u6599"}),Object(o.jsx)(p,{name:"send_material",size:"middle",bordered:!1,value:n.send_material,onChange:function(t,n,s){return e.changeInput(t,s)}}),Object(o.jsx)(y,{title:"\u4e34\u5e8a\u8bca\u65ad"}),Object(o.jsx)(p,{name:"clinical_diagnosis",size:"middle",bordered:!1,value:n.clinical_diagnosis,onChange:function(t,n,s){return e.changeInput(t,s)}}),Object(o.jsx)(y,{title:"\u8089\u773c\u6240\u89c1"}),Object(o.jsx)(p,{name:"naked_eye",size:"middle",bordered:!1,value:n.naked_eye,onChange:function(t,n,s){return e.changeInput(t,s)}}),Object(o.jsx)("p",{className:"g9 lh20",children:'(\u4f7f\u7528\u5411\u4e0b" \u2193 "\u7bad\u5934\u81ea\u52a8\u641c\u7d22)'}),Object(o.jsxs)("div",{className:"fx",children:[Object(o.jsxs)("div",{style:{width:"50%"},children:[Object(o.jsx)(y,{title:"\u521d\u8bca\u533b\u751f"}),Object(o.jsx)("div",{className:"b",children:n.ts_audit_name})]}),Object(o.jsxs)("div",{style:{width:"50%"},children:[Object(o.jsx)(y,{title:"\u590d\u8bca\u533b\u751f"}),Object(o.jsx)("div",{className:"b",children:n.ts_approve_name})]})]})]}),Object(o.jsxs)("div",{style:{width:"50%",marginLeft:"20px"},children:[Object(o.jsx)(y,{title:"\u75c5\u7406\u6240\u89c1"}),Object(o.jsx)(p,{name:"pathology",size:"middle",mode:"textarea",bordered:!1,value:n.pathology,onChange:function(t,n,s){return e.changeInput(t,s)}}),Object(o.jsx)("p",{className:"g9 lh20",children:'(\u4f7f\u7528\u5411\u4e0b" \u2193 "\u7bad\u5934\u81ea\u52a8\u641c\u7d22)'}),Object(o.jsx)(y,{title:"\u75c5\u7406\u8bca\u65ad"}),Object(o.jsx)(p,{name:"pathological_diagnosis",size:"middle",mode:"textarea",bordered:!1,value:n.pathological_diagnosis,onChange:function(t,n,s){return e.changeInput(t,s)}},a),Object(o.jsx)("p",{className:"g9 lh20",children:'(\u4f7f\u7528\u5411\u4e0b" \u2193 "\u7bad\u5934\u81ea\u52a8\u641c\u7d22)'})]})]})]})}}]),n}(u.a.Component)}}]);
(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[293],{474:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return v}));var n=a(5),i=a(22),l=a(23),s=a(27),o=a(25),r=a(24),d=a(0),u=a.n(d),c=window,h=c.$http,f=c.$fn,p=c.$async,m=p((function(){return a.e(5).then(a.bind(null,135))})),b=p((function(){return a.e(6).then(a.bind(null,137))})),w=p((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(11)]).then(a.bind(null,133))})),v=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=e.call.apply(e,[this].concat(l))).state={data:[],pag:{},selectedKeys:[]},t.audit_statusSelect=[{name:"\u5df2\u4f5c\u5e9f",value:"-3"}],t.forms=[{label:"\u6761\u7801\u53f7",name:"spec_code",type:"input"},{label:"\u533b\u9662\u540d\u79f0",name:"hosp_id",type:"select",data:[],nameStr:"name",idStr:"value"},{label:"\u64cd\u4f5c\u4eba",name:"operator_id",type:"select",data:[],nameStr:"name",idStr:"uuid"},{label:"\u4f5c\u5e9f\u65f6\u95f4",name:"date",type:"date-range",names:["start_at","end_at"]}],t.model={},t.fetch=function(e){return f.fetch.call(Object(s.a)(t),"specimen/invalidlists",e)},t.cols=[{title:"\u6807\u672c\u7bb1\u7f16\u53f7",field:"box_num",width:90},{title:"\u6807\u7bb1\u6761\u7801\u53f7",field:"box_code",width:90},{title:"\u533b\u9662\u540d\u79f0",field:"hosp_name",width:150},{title:"\u6761\u7801\u53f7",field:"spec_code",width:120},{title:"\u9879\u76ee\u5217\u8868",field:"kind_str",width:240},{title:"\u5f55\u5165\u65f6\u95f4",field:"created_at",width:140},{title:"\u4f5c\u5e9f\u65f6\u95f4",field:"operator_at",width:140},{title:"\u64cd\u4f5c\u5458",field:"operator_name",width:120},{title:"\u9879\u76ee\u72b6\u6001",field:"audit_status",width:150,render:function(e){var a=e.rows;return window.$fn.filterSelect(t.audit_statusSelect,a.audit_status,"name","value")}}],t.ButtonGroup=function(){return[]},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;f.dataSave("bs-hospital-select-data").then((function(e){f.hasArray(e)?t.forms[1].data=e:h.pull(null,"bs-hospital/select",{dataName:null}).then((function(e){t.forms[1].data=e.items,f.dataSave("bs-hospital-select-data",e.items)}))})),f.dataSave("employee-select-data").then((function(e){f.hasArray(e)?t.forms[2].data=e:h.pull(null,"bs-hospital/select",{dataName:null}).then((function(e){t.forms[2].data=e.items,f.dataSave("employee-select-data",e.items)}))})),this.fetch()}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,i=e.pullLoading,l=e.pag;return Object(n.jsxs)(m,{title:"\u6807\u672c\u4f5c\u5e9f\u8bb0\u5f55",ButtonGroup:this.ButtonGroup(),children:[Object(n.jsx)(b,{data:this.forms,onChange:function(e,a){return f.onChange.call(t,e,a)},onSubmit:f.onSubmit.bind(this),onReset:f.onReset.bind(this,this.forms),loading:i}),Object(n.jsx)(w,{className:"xplr",cols:this.cols,data:a,loading:i,onRow:function(e){return t.setState({selectedKeys:e})},pag:l,onChange:function(e,a){return f.pageChange.call(t,{current:e,pageSize:a})}})]})}}]),a}(u.a.Component)}}]);
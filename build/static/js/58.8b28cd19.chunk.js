(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[58],{138:function(t,e,n){"use strict";var a=Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(22)]).then(n.bind(null,143)),i=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),c=window.$fn;e.a={interfaceConfirm:function(t,e,n,c){e?a.then((function(a){a.default({msg:"\u662f\u5426\u786e\u8ba4".concat(e,"\uff1f"),onOk:function(a){window.$http.submit(null,t,{param:n}).then((function(t){i.then((function(t){return t.default.success("".concat(e,"\u6210\u529f"))})),c(),a()}))}})})):window.$http.submit(null,t,{param:n}).then((function(t){i.then((function(t){return t.default.success("".concat(e,"\u6210\u529f"))})),c()}))},sysTime:function(t,e){var n=c.getUser(),a="9";a=c.hasObject(n)?e||(n.timeline_node?n.timeline_node:"9"):e||"9";var i=parseInt(a)>9?"".concat(a,":00:00"):"0".concat(a,":00:00"),o=new Date;o.getHours()<Number(a)?1===t&&o.setTime(o.getTime()-864e5):2===t&&o.setTime(o.getTime()+864e5);var l=o.getFullYear(),r=o.getMonth()+1>9?o.getMonth()+1:"0".concat(o.getMonth()+1),s=o.getDate()>9?o.getDate():"0".concat(o.getDate()),d=o.getHours()>9?o.getHours():"0".concat(o.getHours()),u=o.getMinutes()>9?o.getMinutes():"0".concat(o.getMinutes()),h=o.getSeconds()>9?o.getSeconds():"0".concat(o.getSeconds());return i?"".concat(l,"-").concat(r,"-").concat(s," ").concat(i):"".concat(l,"-").concat(r,"-").concat(s," ").concat(d,":").concat(u,":").concat(h)},intervalTime:function(t,e){var n=new Date,a=n;t&&(a=new Date(n.getTime()-24*t*60*60*1e3));var i=a.getFullYear(),c=a.getMonth()+1>9?a.getMonth()+1:"0".concat(a.getMonth()+1),o=a.getDate()>9?a.getDate():"0".concat(a.getDate()),l=a.getHours()>9?a.getHours():"0".concat(a.getHours()),r=a.getMinutes()>9?a.getMinutes():"0".concat(a.getMinutes()),s=a.getSeconds()>9?a.getSeconds():"0".concat(a.getSeconds());return e?"".concat(i,"-").concat(c,"-").concat(o," ").concat(e):"".concat(i,"-").concat(c,"-").concat(o," ").concat(l,":").concat(r,":").concat(s)},img_domain_url:function(t){if(t){var e=c.local("user");return e&&Object.keys(e).length>0&&e.img_domain?e.img_domain+t:t}return""},exportExcel:function(t){var e=t.api,n=t.apiType,a=t.param,i=t.cb;window.$http[n||"pull"](null,e,a).then((function(t){window.location.href=t.url,i&&i()}))},switchFlag:function(t){return t?1:0},flagSwitch:function(t){return"1"===String(t)}}},386:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return y}));var a=n(5),i=n(22),c=n(23),o=n(27),l=n(25),r=n(24),s=n(0),d=n.n(s),u=n(138),h=window,f=h.$http,m=h.$fn,g=h.$async,p=g((function(){return n.e(5).then(n.bind(null,135))})),b=n.e(9).then(n.bind(null,144)),w=g((function(){return n.e(6).then(n.bind(null,137))})),_=g((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),v=[{name:"\u5df2\u5ba1\u6838",value:"45003"},{name:"\u5df2\u6279\u51c6",value:"45004"}],y=function(t){Object(l.a)(n,t);var e=Object(r.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(t=e.call.apply(e,[this].concat(c))).state={data:[],pag:{},selectedKeys:[]},t.forms=[{label:"\u6761\u7801\u53f7",name:"spec_code"},{label:"\u79d1\u5ba4",name:"department_name"},{label:"\u72b6\u6001",name:"status",type:"select",data:[]},{label:"\u5c97\u4f4d",name:"project_id",type:"select",data:[],idStr:"uuid"},{label:"\u9879\u76ee",name:"kind_id",type:"select",data:[]},{label:"\u68c0\u6d4b\u65f6\u95f4",name:"date",type:"date-range",names:["start_at","end_at"],value:[]},{label:"\u63a5\u6536\u65f6\u95f4",name:"date1",type:"date-range",names:["ck_start_date","ck_end_date"],value:[]}],t.model={start_at:u.a.sysTime(1,"9"),end_at:u.a.sysTime(2,"9")},t.fetch=function(e){return m.fetch.call(Object(o.a)(t),"specimen/laboratorylists",e)},t.cols=[{title:"\u6761\u7801\u53f7",field:"spec_code",width:130},{title:"\u5b9e\u9a8c\u53f7",field:"experiment_num",width:70},{title:"\u9001\u68c0\u5355\u4f4d",field:"hosp_name",width:200},{title:"\u63a5\u6536\u65f6\u95f4",field:"receive_at",width:160,align:"tc"},{title:"\u68c0\u6d4b\u65f6\u95f4",field:"created_at",width:160,align:"tc"},{title:"\u59d3\u540d",field:"patient_name",width:100},{title:"\u6027\u522b",field:"sex_name",width:50},{title:"\u5e74\u9f84",field:"age",width:70},{title:"\u8eab\u4efd\u8bc1",field:"card_no",width:150},{title:"\u7535\u8bdd",field:"patient_phone",width:100},{title:"\u533b\u751f\u7535\u8bdd",field:"doctor_phone",width:100},{title:"\u79d1\u5ba4",field:"department_name",width:100},{title:"\u60a3\u8005\u7c7b\u578b",field:"case_type_name",width:100},{title:"\u5e8a\u53f7",field:"bed_no",width:100},{title:"\u4f4f\u9662\u53f7",field:"outpatient",width:100},{title:"\u4e34\u5e8a\u8bca\u65ad",field:"diagnosis_info",width:130},{title:"\u81ea\u7136\u9879\u76ee",field:"parent_kind_name",width:220},{title:"\u68c0\u9a8c\u9879\u76ee",field:"kind_name",width:220},{title:"\u6279\u51c6\u65f6\u95f4",field:"ts_approve_at",width:160,align:"tc"},{title:"\u7ed3\u679c",field:"result_str",width:100},{title:"\u72b6\u6001",field:"status_name",width:70}],t.ButtonGroup=function(){return[{label:"\u5bfc\u51fa",onClick:function(){}}]},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.forms[2].data=v,b.then((function(e){var n=e.default;m.getCache({cache:n.labkindselect,callback:function(e){m.hasArray(e)?t.forms[4].data=e:f.submit(null,"specimen/labkindselect").then((function(e){t.forms[4].data=e,m.setCache()}))}}),m.getCache({cache:n.jobAllselect,callback:function(e){m.hasArray(e)?t.forms[3].data=e:f.submit(null,"project-team/jobAllselect").then((function(e){t.forms[3].data=e,m.setCache()}))}})})),this.fetch(this.model)}},{key:"render",value:function(){var t=this,e=this.state,n=e.data,i=e.pullLoading,c=e.pag;return Object(a.jsxs)(p,{title:"\u9879\u76ee\u7ed3\u679c\u6e05\u5355",ButtonGroup:this.ButtonGroup(),children:[Object(a.jsx)(w,{data:this.forms,onChange:function(e,n){return m.onChange.call(t,e,n)},onSubmit:m.onSubmit.bind(this),onAdd:this.onAdd,onReset:m.onReset.bind(this,this.forms),loading:i,init:function(e){return e.setFieldsValue({date:[t.model.start_at,t.model.end_at]})}}),Object(a.jsx)(_,{className:"xplr",cols:this.cols,data:n,loading:i,onRow:function(e){return t.setState({selectedKeys:e})},pag:c,onChange:function(e,n){return m.pageChange.call(t,{current:e,pageSize:n})}})]})}}]),n}(d.a.Component)}}]);
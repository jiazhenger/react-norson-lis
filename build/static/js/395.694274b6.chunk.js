(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[395],{374:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));n(430);var s=n(432),a=(n(296),n(300)),l=n(5),i=n(22),c=n(23),r=n(27),o=n(25),d=n(24),h=n(0),m=n.n(h),u=n(124),j=n(206),b=n.n(j),f=n.e(10).then(n.bind(null,123)),x=window,g=x.$http,v=x.$fn,O=x.$async,p=n.e(9).then(n.bind(null,144)),y=O((function(){return Promise.resolve().then(n.bind(null,94))})),N=O((function(){return Promise.all([n.e(32),n.e(378)]).then(n.bind(null,146))})),w=(N.TextArea,O((function(){return Promise.all([n.e(31),n.e(379)]).then(n.bind(null,170))}))),C=(O((function(){return n.e(7).then(n.bind(null,142))})),O((function(){return Promise.all([n.e(4),n.e(8)]).then(n.bind(null,133))}))),k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:[],pag:{},selectedKeys:[],submit:[],uuid:[],form:{province:"",city:"",area:"",areaData:{country_id:"100000",province_id:"",city_id:"",area_id:""},street:"",contact_name:"",to_door_cycle:[],to_door_time:"",require:"",remark:"",hosp_id:"",contact_phone:"",doctor_id:"",depart_id:""},doctorList:[],hospitalDepartments:[],hosp_id:""},e.checks=[{label:"\u5468\u4e00",value:1},{label:"\u5468\u4e8c",value:2},{label:"\u5468\u4e09",value:3},{label:"\u5468\u56db",value:4},{label:"\u5468\u4e94",value:5},{label:"\u5468\u516d",value:6},{label:"\u5468\u65e5",value:7}],e.forms=[],e.model={hosp_id:""},e.onChanges=function(t){console.log(t);var n=e.state.form;Object.assign(n,t)},e.fetch=function(t){return v.fetch.call(Object(r.a)(e),"bs-box-address/index",{param:t})},e.cols=[{type:"checkbox"},{title:"\u5e8f\u53f7",field:"id",width:120},{title:"\u6807\u672c\u6536\u53d6\u5730\u70b9",field:"contact_name",width:120},{title:"\u4e0a\u95e8\u5468\u671f",field:"to_door_cycle",width:120},{title:"\u6bcf\u65e5\u4e0a\u95e8\u65f6\u95f4",field:"to_door_time",width:120},{title:"\u4e2a\u6027\u5316\u8981\u6c42",field:"require",width:120},{title:"\u5907\u6ce8",field:"remark",width:120},{title:"\u64cd\u4f5c",width:120,render:function(t){t.rows;return Object(l.jsx)("div",{className:"plr5",children:Object(l.jsx)(y,{label:"\u7f16\u8f91",ghost:!0,className:"ml15",onClick:function(){e.refs.modal.open()}})})}}],e.ButtonGroup=function(){return[]},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.submit;p.then((function(n){v.getCache({cache:n.default.bsDocSelect,name:"name",id:"uuid",callback:function(n){v.hasArray(n)?e.setState({doctorList:n}):g.submit(null,"bs-doctor/select").then((function(t){e.setState({doctorList:t}),v.setCache()})),e.setState({submit:t})}}),v.getCache({cache:n.default.ProjectTeamSelect,name:"name",id:"uuid",callback:function(n){v.hasArray(n)?e.setState({hospitalDepartments:n}):g.submit(null,"project-team/select").then((function(t){e.setState({hospitalDepartments:t}),v.setCache()})),e.setState({submit:t})}})}))}},{key:"onChange",value:function(e){console.log("checked = ",e)}},{key:"DateOnChange",value:function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t)}},{key:"onOk",value:function(e){console.log("onOk: ",e)}},{key:"streetOnChanges",value:function(e){this.state.form.street=e}},{key:"timeOnChange",value:function(e,t){console.log(e,t)}},{key:"componentWillReceiveProps",value:function(e){this.setState({hosp_id:e.ID}),this.model.hosp_id=e.ID,console.log(this.model)}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,i=t.pullLoading,c=t.pag,r=t.selectedKeys,o=t.form,d=t.doctorList,h=t.hospitalDepartments,m=t.uuid;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"fxbc fxmj",children:[Object(l.jsx)("h6",{className:"w xmlr pl20 h40 b",children:"\u6807\u672c\u6536\u53d6\u5730\u70b9"}),Object(l.jsxs)("div",{className:"fxbc fxmj mb10",children:[Object(l.jsx)(y,{label:"\u65b0\u589e",size:"small",className:"dkm",onClick:function(){e.refs.modal.open()}}),Object(l.jsx)(y,{label:"\u5220\u9664",size:"small",disabled:!r.length,className:"dkm ml15 mr10",onClick:function(){var e={uuid:m};g.submit(null,"bs-box-address/delete",{param:e}).then((function(e){f.then((function(e){return e.default.success("\u5220\u9664\u6210\u529f")}))}))}})]})]}),Object(l.jsx)(C,{className:"xplr mt10",cols:this.cols,data:n,loading:i,onRow:function(t){e.setState({selectedKeys:t}),e.setState({uuid:t.map((function(e){return e.uuid}))})},pag:c,onChange:function(t,n){return v.pageChange.call(e,{current:t,pageSize:n})}}),Object(l.jsx)(u.a,{ref:"modal",title:"\u7f16\u8f91",width:648,noFooter:!0,children:Object(l.jsxs)("div",{className:"fxw pt10 pr10 pl10",children:[Object(l.jsxs)("div",{className:"fx mt10",children:[Object(l.jsxs)("div",{className:"mr10 fxm",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u9009\u62e9\u5730\u533a"}),Object(l.jsx)(w,{name:"province",data:this.statusOption,p:"\u8bf7\u9009\u62e9",nameStr:"label",idStr:"value",onChanged:function(t){return e.onChanges(t)},width:150})]}),Object(l.jsxs)("div",{className:"fxm",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u5177\u4f53\u4f4d\u7f6e"}),Object(l.jsx)(N,{className:"",style:{width:150},value:o.street,onChange:this.streetOnChanges})]})]}),Object(l.jsxs)("div",{className:"fx mt10",children:[Object(l.jsxs)("div",{className:"mr10 fxm",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u6807\u672c\u6536\u53d6\u5730\u70b9"}),Object(l.jsx)(N,{className:"",style:{width:150},value:o.contact_name,onChange:function(t){return e.onChanges(t)}})]}),Object(l.jsxs)("div",{className:"fxm",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u533b\u751f"}),Object(l.jsx)(w,{name:"doctor_id",data:d||"\u6682\u65e0\u6570\u636e",p:"\u8bf7\u9009\u62e9",nameStr:"label",idStr:"value",onChanged:function(t){return e.onChanges(t)},width:150})]})]}),Object(l.jsxs)("div",{className:"fx mt10",children:[Object(l.jsxs)("div",{className:"mr10 fxm",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u533b\u9662\u79d1\u5ba4"}),Object(l.jsx)(w,{name:"depart_id",data:h,p:"\u8bf7\u9009\u62e9",nameStr:"name",idStr:"value",onChanged:function(t){return e.onChanges(t)},width:150})]}),Object(l.jsxs)("div",{className:"fxm",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u8054\u7cfb\u7535\u8bdd"}),Object(l.jsx)(N,{className:"",style:{width:150},value:o.contact_phone,onChange:function(t){return e.onChanges(t)}})]})]}),Object(l.jsxs)("div",{className:"fxm mt10",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u4e0a\u95e8\u5468\u671f"}),Object(l.jsx)(a.a.Group,{options:this.checks,onChange:this.onChange})]}),Object(l.jsxs)("div",{className:"fxm w mt10",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u6bcf\u5468\u4e0a\u95e8\u65f6\u95f4"}),Object(l.jsx)(s.a,{onChange:this.timeOnChange,defaultOpenValue:b()("00:00","HH:mm")})]}),Object(l.jsxs)("div",{className:"fxm w mt10",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u4e2a\u6027\u5316\u8981\u6c42"}),Object(l.jsx)(N,{mode:"textarea",onChange:function(t){return e.onChanges(t)},value:o.require})]}),Object(l.jsxs)("div",{className:"fxm w mt10",children:[Object(l.jsx)("div",{className:"mr10",style:{width:90,textAlign:"right"},children:"\u5907\u6ce8"}),Object(l.jsx)(N,{mode:"textarea",onChange:function(t){return e.onChanges(t)},value:o.remark})]}),Object(l.jsxs)("div",{className:"mt10 w",style:{textAlign:"center"},children:[Object(l.jsx)(y,{className:"mr10",label:"\u53d6\u6d88",onClick:function(){e.refs.modal.close()}}),Object(l.jsx)(y,{className:"",label:"\u786e\u5b9a",onClick:function(){console.log(o),e.refs.modal.close()}})]})]})})]})}}]),n}(m.a.Component)}}]);
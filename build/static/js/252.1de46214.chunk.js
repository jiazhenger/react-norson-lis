(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[252,393],{138:function(e,t,n){"use strict";var c=Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(22)]).then(n.bind(null,143)),a=Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),o=window.$fn;t.a={interfaceConfirm:function(e,t,n,o){t?c.then((function(c){c.default({msg:"\u662f\u5426\u786e\u8ba4".concat(t,"\uff1f"),onOk:function(c){window.$http.submit(null,e,{param:n}).then((function(e){a.then((function(e){return e.default.success("".concat(t,"\u6210\u529f"))})),o(),c()}))}})})):window.$http.submit(null,e,{param:n}).then((function(e){a.then((function(e){return e.default.success("".concat(t,"\u6210\u529f"))})),o()}))},sysTime:function(e,t){var n=o.getUser(),c="9";c=o.hasObject(n)?t||(n.timeline_node?n.timeline_node:"9"):t||"9";var a=parseInt(c)>9?"".concat(c,":00:00"):"0".concat(c,":00:00"),i=new Date;i.getHours()<Number(c)?1===e&&i.setTime(i.getTime()-864e5):2===e&&i.setTime(i.getTime()+864e5);var r=i.getFullYear(),u=i.getMonth()+1>9?i.getMonth()+1:"0".concat(i.getMonth()+1),l=i.getDate()>9?i.getDate():"0".concat(i.getDate()),s=i.getHours()>9?i.getHours():"0".concat(i.getHours()),d=i.getMinutes()>9?i.getMinutes():"0".concat(i.getMinutes()),f=i.getSeconds()>9?i.getSeconds():"0".concat(i.getSeconds());return a?"".concat(r,"-").concat(u,"-").concat(l," ").concat(a):"".concat(r,"-").concat(u,"-").concat(l," ").concat(s,":").concat(d,":").concat(f)},intervalTime:function(e,t){var n=new Date,c=n;e&&(c=new Date(n.getTime()-24*e*60*60*1e3));var a=c.getFullYear(),o=c.getMonth()+1>9?c.getMonth()+1:"0".concat(c.getMonth()+1),i=c.getDate()>9?c.getDate():"0".concat(c.getDate()),r=c.getHours()>9?c.getHours():"0".concat(c.getHours()),u=c.getMinutes()>9?c.getMinutes():"0".concat(c.getMinutes()),l=c.getSeconds()>9?c.getSeconds():"0".concat(c.getSeconds());return t?"".concat(a,"-").concat(o,"-").concat(i," ").concat(t):"".concat(a,"-").concat(o,"-").concat(i," ").concat(r,":").concat(u,":").concat(l)},img_domain_url:function(e){if(e){var t=o.local("user");return t&&Object.keys(t).length>0&&t.img_domain?t.img_domain+e:e}return""},exportExcel:function(e){var t=e.api,n=e.apiType,c=e.param,a=e.cb;window.$http[n||"pull"](null,t,c).then((function(e){window.location.href=e.url,a&&a()}))},switchFlag:function(e){return e?1:0},flagSwitch:function(e){return"1"===String(e)}}},363:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var c=n(5),a=n(22),o=n(23),i=n(27),r=n(25),u=n(24),l=n(0),s=n.n(l),d=n(138),f=window,g=f.$fn,h=f.$async,m=h((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,94))})),p=h((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),w=function(e){Object(r.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))).state={data:[],selectedKeys:[],params:{}},e.audit_statusSelect=[{name:"\u5df2\u4f5c\u5e9f",value:"-3"}],e.forms=[],e.model={},e.fetch=function(t){return g.fetch.call(Object(i.a)(e),"specimen-kind/index",t)},e.cols=[{title:"\u9879\u76ee\u4ee3\u7801",field:"kind_code",width:120},{title:"\u9879\u76ee\u540d\u79f0",field:"kind_name",width:320},{title:"\u9879\u76ee\u72b6\u6001",field:"enabled",width:120,render:function(e){var t=e.rows;return window.$fn.filterSelect([{label:"\u5df2\u5ba1\u6838",value:"1"},{label:"\u5f85\u5ba1\u6838",value:"0"},{label:"\u5f85\u4fdd\u5b58",value:"-2"}],t.enabled,"label","value")}},{title:"\u64cd\u4f5c",field:"enabled",width:60,render:function(t){var n=t.rows;return Object(c.jsx)(m,{onClick:function(){return e.delRows(n)},ghost:!0,type:"primary",children:"\u5220\u9664"})},align:"tc"}],e.delRows=function(t){d.a.interfaceConfirm("specimen-kind/end","\u5220\u9664",t,(function(){e.fetch(e.state.params),e.props.onchanged()}))},e.changeList=function(t){var n={spec_id:t.uuid,spec_code:t.spec_code};e.setState({params:n}),e.fetch(n)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.pullLoading;return Object(c.jsx)(p,{className:"xplr",cols:this.cols,data:n,loading:a,onRow:function(t){return e.setState({selectedKeys:t})},onChange:function(t,n){return g.pageChange.call(e,{current:t,pageSize:n})}})}}]),n}(s.a.Component)}}]);
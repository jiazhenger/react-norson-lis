(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[112],{439:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return _}));var n=a(5),i=a(22),c=a(23),l=a(27),o=a(25),s=a(24),r=a(0),d=a.n(r),u=window,h=u.$http,f=u.$fn,m=u.$async,p=a.e(9).then(a.bind(null,144)),b=m((function(){return a.e(6).then(a.bind(null,137))})),g=m((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(11)]).then(a.bind(null,133))})),y=[{name:"\u5e38\u89c4\u5916\u5305",value:"1"},{name:"\u4e34\u65f6\u5916\u5305",value:"2"}],_=function(t){Object(o.a)(a,t);var e=Object(s.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={data:[],pag:{},selectedKeys:[],forms:[{label:"\u6761\u7801\u53f7",name:"spec_code"},{label:"\u5916\u9001\u5355\u4f4d",name:"outsourcing_company"},{label:"\u79d1\u5ba4",name:"project_parent_id",type:"select",data:[],idStr:"uuid"},{label:"\u5c97\u4f4d",name:"project_id",type:"select",data:[]},{label:"\u5916\u9001\u7c7b\u578b",name:"outsourcing_type",type:"select",data:[]},{label:"\u5916\u9001\u65f6\u95f4",name:"date",type:"date-range",names:["start_at","end_at"],value:[]}]},t.model={},t.fetch=function(e){return f.fetch.call(Object(l.a)(t),"specimen/getOutsourcingList",e)},t.cols=[{type:"checkbox"},{title:"\u5916\u9001\u5355\u4f4d",field:"outsourcing_company",width:145},{title:"\u5916\u9001\u65f6\u95f4",field:"outsourcing_created_at",width:150},{title:"\u5916\u9001\u7c7b\u578b",field:"outsourcing_type",width:80},{title:"\u6761\u7801\u53f7",field:"spec_code",width:130},{title:"\u59d3\u540d",field:"patient_name",width:120},{title:"\u6027\u522b",field:"sex_name",width:80},{title:"\u5e74\u9f84",field:"age_first_val",width:100},{title:"\u5355\u4e00\u9879\u76ee",field:"kind_name",width:150},{title:"\u5b9e\u9a8c\u79d1\u5ba4",field:"project_parent_name",width:150},{title:"\u5c97\u4f4d",field:"project_name",width:150}],t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.state.forms;this.props.onRef(this),e[4].data=y,p.then((function(a){var n=a.default;f.getCache({cache:n.ProjectTeamSelect,callback:function(a){f.hasArray(a)?(e[2].data=a,t.setState({forms:e})):h.submit(null,"project-team/select").then((function(a){e[2].data=a,t.setState({forms:e}),f.setCache()}))}}),f.getCache({cache:n.laboratoryselect,callback:function(a){f.hasArray(a)?(e[3].data=a,t.setState({forms:e})):h.submit(null,"project-team/laboratoryselect").then((function(a){e[3].data=a,t.setState({forms:e}),f.setCache()}))}})})),this.fetch(this.model)}},{key:"render",value:function(){var t=this,e=this.state,a=e.data,i=e.pullLoading,c=e.pag,l=e.forms;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b,{data:l,onChange:function(e,a){return f.onChange.call(t,e,a)},onSubmit:f.onSubmit.bind(this),onAdd:this.onAdd,onReset:f.onReset.bind(this,l),loading:i}),Object(n.jsx)(g,{className:"xplr",cols:this.cols,data:a,loading:i,onRow:function(e){return t.setState({selectedKeys:e})},pag:c,onChange:function(e,a){return f.pageChange.call(t,{current:e,pageSize:a})}})]})}}]),a}(d.a.Component)}}]);
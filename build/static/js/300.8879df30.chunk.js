(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[300],{512:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var n=t(5),i=t(2),l=t(11),r=t.n(l),c=t(14),s=t(22),u=t(23),m=t(25),d=t(24),o=t(0),p=t.n(o),b=window,_=b.$http,f=b.$fn,h=b.$async,y=Promise.all([t.e(0),t.e(2),t.e(1),t.e(14)]).then(t.bind(null,123)),v=h((function(){return t.e(5).then(t.bind(null,135))})),x=h((function(){return t.e(7).then(t.bind(null,142))})),k=function(e){Object(m.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=a.call.apply(a,[this].concat(i))).state={submit:[{label:"\u53c2\u8003\u503c\u7c7b\u522b\u540d\u79f0",name:"ref_type_name"},{label:"\u53c2\u8003\u503c\u7c7b\u522b\u540d\u79f0(\u82f1)",name:"en_ref_type_name"},{label:"\u6027\u522b",name:"sex",type:"select",data:[]},{label:"\u5e74\u9f84\u5355\u4f4d",name:"age_unit",type:"select",data:[]},{label:"\u5e74\u9f84(\u4f4e)",name:"age_min_type",type:"select",data:[],title:"\u62a5\u544a\u5355\u7279\u6027"},{label:"",name:"age_min_val",placeholder:"\u5e74\u9f84(\u4f4e)"},{label:"\u5e74\u9f84(\u9ad8)",name:"age_max_type",type:"select",data:[]},{label:"",name:"age_max_val",placeholder:"\u5e74\u9f84(\u9ad8)"},{label:"\u5371\u6025\u503c(\u4f4e)",name:"crisis_min_type",type:"select",data:[]},{label:"",name:"crisis_min_val",placeholder:"\u5371\u6025\u503c(\u4f4e)"},{label:"\u5371\u6025\u503c(\u9ad8)",name:"crisis_max_type",type:"select",data:[]},{label:"",name:"crisis_max_val",placeholder:"\u5371\u6025\u503c(\u9ad8)"},{label:"\u53c2\u8003\u503c(\u4f4e)",name:"reference_min_type",type:"select",data:[]},{label:"",name:"reference_min_val",placeholder:"\u53c2\u8003\u503c(\u4f4e)"},{label:"\u53c2\u8003\u503c(\u9ad8)",name:"reference_max_type",type:"select",data:[]},{label:"",name:"reference_max_val",placeholder:"\u53c2\u8003\u503c(\u9ad8)"},{label:"\u53c2\u8003\u503c\u63cf\u8ff0",name:"description",type:"textarea",width:"480px"},{label:"\u53c2\u8003\u503c\u63cf\u8ff0(\u82f1)",name:"description_en",type:"textarea",width:"480px"},{label:"\u53c2\u8003\u503c\u62a5\u544a\u5355\u6253\u5370",name:"print_report",type:"textarea",width:"480px"},{label:"\u53c2\u8003\u503c\u62a5\u544a\u5355\u6253\u5370(\u82f1)",name:"print_report_en",type:"textarea",width:"480px"},{label:"\u5371\u6025\u503c\u63cf\u8ff0",name:"crisis_value_desc",type:"textarea",width:"480px"}],id:f.query("uuid"),kind_id:f.query("kind_id"),model:{}},e}return Object(u.a)(t,[{key:"getDataAsync",value:function(){var e=Object(c.a)(r.a.mark((function e(){var a,t,n,i=this;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state,t=a.submit,n=a.id,f.getDisItem({code:3e4,callback:function(e){t[3].data=e,i.setState({submit:t})}}),f.getDisItem({code:1300,callback:function(e){t[4].data=e,t[6].data=e,t[8].data=e,t[10].data=e,t[12].data=e,t[14].data=e,i.setState({submit:t})}}),f.getDisItem({code:45700,callback:function(e){t[2].data=e,i.setState({submit:t})}}),t.forEach((function(e){e.value="","crisis_max_val"!==e.name&&"crisis_min_val"!==e.name&&"reference_max_val"!==e.name&&"reference_min_val"!==e.name&&"age_min_val"!==e.name&&"age_max_val"!==e.name||(e.value="0.00")})),n&&_.submit(null,"kd-reference-range/info",{param:{uuid:n}}).then((function(e){f.setSubmitValues(t,e,(function(){i.setState({submit:t})}))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getDataAsync()}},{key:"render",value:function(){var e=this,a=this.state,t=a.submit,l=a.id,r=a.kind_id;return Object(n.jsx)(v,{title:"\u53c2\u8003\u8303\u56f4",children:Object(n.jsx)("div",{className:"ex fv xplr pt10",children:Object(n.jsx)(x,{data:t,btnSize:"large",onSubmit:function(a){for(var t in a)void 0===a[t]&&(a[t]="");if(l){var n=Object(i.a)(Object(i.a)({},a),{},{uuid:l,kind_id:r});_.submit(null,"kd-reference-range/edit",{param:n}).then((function(a){y.then((function(e){return e.default.success("\u4fee\u6539\u6210\u529f")})),f.back(e)}))}else{var c=Object(i.a)(Object(i.a)({},a),{},{kind_id:r});_.submit(null,"kd-reference-range/add",{param:c}).then((function(a){y.then((function(e){return e.default.success("\u6dfb\u52a0\u6210\u529f")})),f.back(e)}))}},onClose:function(){return f.back(e)},init:function(a){return e.form=a}})})})}}]),t}(p.a.Component)}}]);
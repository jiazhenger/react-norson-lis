(this["webpackJsonpreact-my"]=this["webpackJsonpreact-my"]||[]).push([[331],{611:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(5),i=n(22),l=n(23),c=n(27),r=n(25),o=n(24),s=n(0),u=n.n(s),d=window,f=d.$http,h=d.$fn,m=d.$async,b=(m((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(13)]).then(n.bind(null,94))})),Promise.all([n.e(0),n.e(2),n.e(1),n.e(14)]).then(n.bind(null,123)),Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(22)]).then(n.bind(null,143)),m((function(){return n.e(5).then(n.bind(null,135))}))),p=m((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(12),n.e(85)]).then(n.bind(null,345))})),v=m((function(){return n.e(6).then(n.bind(null,137))})),g=m((function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,133))})),y=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={data:[],pag:{},taps:[],selectedKeys:[]},e.forms=[{label:"\u5173\u952e\u5b57",name:"title",type:"input"},{label:"\u6d88\u606f\u91cd\u8981\u7ea7\u522b",name:"",type:"select",data:[],nameStr:"title"},{label:"\u72b6\u6001",name:"",type:"select",data:[],nameStr:"title"},{label:"\u6d88\u606f\u7c7b\u578b",name:"",type:"select",data:[],nameStr:"title"}],e.model={},e.tabs=[{title:"\u7ed3\u679c\u5f55\u5165",status:45001},{title:"\u5df2\u63d0\u4ea4",status:45002},{title:"\u5df2\u5ba1\u6838",status:45003}],e.fetch=function(t){return h.fetch.call(Object(c.a)(e),"msg-system/index",t)},e.cols=[{type:"checkbox"},{title:"\u91cd\u8981\u7ea7\u522b",field:"level",width:145,align:"tc"},{title:"\u516c\u544a\u540d\u79f0",field:"uuid",width:150,align:"tc"},{title:"\u53d1\u5e03\u8005",field:"id",width:130,align:"tc"},{title:"\u65e5\u671f",field:"level",width:100,align:"tc"}],e.ButtonGroup=function(){return[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;h.dataSave("device").then((function(t){h.hasArray(t)?e.forms[0].data=t:f.pull(null,"device/select",{dataName:null}).then((function(t){t.forEach((function(e){return e.title="".concat(e.device_name,"(").concat(e.device_number,") - ").concat(e.device_model)})),e.forms[0].data=t,h.dataSave("device",t)}))})),this.fetch()}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,i=t.pullLoading,l=t.pag;return Object(a.jsxs)(b,{children:[Object(a.jsx)(p,{data:this.tabs,onTabs:function(t,n){["1","2","3"].includes(n)?e.setState({forms:e.form1}):e.setState({forms:e.form0})}}),Object(a.jsx)(v,{data:this.forms,onChange:function(t,n,a){var i=a.name,l=a.data;h.onChange.call(e,t,n,(function(){if(i&&"device_id"===i)return{device_name:l.device_name}}))},onSubmit:h.onSubmit.bind(this),onReset:h.onReset.bind(this,this.forms),loading:i,onAdd:function(){return h.push(e,"/laboratory/laboratory-manage/equipment-list/add")}}),Object(a.jsx)(g,{className:"xplr",cols:this.cols,data:n,loading:i,onRow:function(t){return e.setState({selectedKeys:t})},pag:l,onChange:function(t,n){return h.pageChange.call(e,{current:t,pageSize:n})},onSort:function(t){return h.onSort.call(e,t)}})]})}}]),n}(u.a.Component)}}]);